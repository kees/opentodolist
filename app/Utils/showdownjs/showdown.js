;/*! showdown v 1.8.5 - 10-12-2017 */
(function(){
/**
 * Created by Tivie on 13-07-2015.
 */

function getDefaultOpts (simple) {
  'use strict';

  var defaultOptions = {
    omitExtraWLInCodeBlocks: {
      defaultValue: false,
      describe: 'Omit the default extra whiteline added to code blocks',
      type: 'boolean'
    },
    noHeaderId: {
      defaultValue: false,
      describe: 'Turn on/off generated header id',
      type: 'boolean'
    },
    prefixHeaderId: {
      defaultValue: false,
      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \'section-\' prefix',
      type: 'string'
    },
    rawPrefixHeaderId: {
      defaultValue: false,
      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',
      type: 'boolean'
    },
    ghCompatibleHeaderId: {
      defaultValue: false,
      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',
      type: 'boolean'
    },
    rawHeaderId: {
      defaultValue: false,
      describe: 'Remove only spaces, \' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',
      type: 'boolean'
    },
    headerLevelStart: {
      defaultValue: false,
      describe: 'The header blocks level start',
      type: 'integer'
    },
    parseImgDimensions: {
      defaultValue: false,
      describe: 'Turn on/off image dimension parsing',
      type: 'boolean'
    },
    simplifiedAutoLink: {
      defaultValue: false,
      describe: 'Turn on/off GFM autolink style',
      type: 'boolean'
    },
    excludeTrailingPunctuationFromURLs: {
      defaultValue: false,
      describe: 'Excludes trailing punctuation from links generated with autoLinking',
      type: 'boolean'
    },
    literalMidWordUnderscores: {
      defaultValue: false,
      describe: 'Parse midword underscores as literal underscores',
      type: 'boolean'
    },
    literalMidWordAsterisks: {
      defaultValue: false,
      describe: 'Parse midword asterisks as literal asterisks',
      type: 'boolean'
    },
    strikethrough: {
      defaultValue: false,
      describe: 'Turn on/off strikethrough support',
      type: 'boolean'
    },
    tables: {
      defaultValue: false,
      describe: 'Turn on/off tables support',
      type: 'boolean'
    },
    tablesHeaderId: {
      defaultValue: false,
      describe: 'Add an id to table headers',
      type: 'boolean'
    },
    ghCodeBlocks: {
      defaultValue: true,
      describe: 'Turn on/off GFM fenced code blocks support',
      type: 'boolean'
    },
    tasklists: {
      defaultValue: false,
      describe: 'Turn on/off GFM tasklist support',
      type: 'boolean'
    },
    smoothLivePreview: {
      defaultValue: false,
      describe: 'Prevents weird effects in live previews due to incomplete input',
      type: 'boolean'
    },
    smartIndentationFix: {
      defaultValue: false,
      description: 'Tries to smartly fix indentation in es6 strings',
      type: 'boolean'
    },
    disableForced4SpacesIndentedSublists: {
      defaultValue: false,
      description: 'Disables the requirement of indenting nested sublists by 4 spaces',
      type: 'boolean'
    },
    simpleLineBreaks: {
      defaultValue: false,
      description: 'Parses simple line breaks as <br> (GFM Style)',
      type: 'boolean'
    },
    requireSpaceBeforeHeadingText: {
      defaultValue: false,
      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',
      type: 'boolean'
    },
    ghMentions: {
      defaultValue: false,
      description: 'Enables github @mentions',
      type: 'boolean'
    },
    ghMentionsLink: {
      defaultValue: 'https://github.com/{u}',
      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',
      type: 'string'
    },
    encodeEmails: {
      defaultValue: true,
      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',
      type: 'boolean'
    },
    openLinksInNewWindow: {
      defaultValue: false,
      description: 'Open all links in new windows',
      type: 'boolean'
    },
    backslashEscapesHTMLTags: {
      defaultValue: false,
      description: 'Support for HTML Tag escaping. ex: \<div>foo\</div>',
      type: 'boolean'
    },
    emoji: {
      defaultValue: false,
      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',
      type: 'boolean'
    },
    underline: {
      defaultValue: false,
      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',
      type: 'boolean'
    },
    completeHTMLDocument: {
      defaultValue: false,
      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',
      type: 'boolean'
    },
    metadata: {
      defaultValue: false,
      description: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',
      type: 'boolean'
    }
  };
  if (simple === false) {
    return JSON.parse(JSON.stringify(defaultOptions));
  }
  var ret = {};
  for (var opt in defaultOptions) {
    if (defaultOptions.hasOwnProperty(opt)) {
      ret[opt] = defaultOptions[opt].defaultValue;
    }
  }
  return ret;
}

function allOptionsOn () {
  'use strict';
  var options = getDefaultOpts(true),
      ret = {};
  for (var opt in options) {
    if (options.hasOwnProperty(opt)) {
      ret[opt] = true;
    }
  }
  return ret;
}

/**
 * Created by Tivie on 06-01-2015.
 */

// Private properties
var showdown = {},
    parsers = {},
    extensions = {},
    globalOptions = getDefaultOpts(true),
    setFlavor = 'vanilla',
    flavor = {
      github: {
        omitExtraWLInCodeBlocks:              true,
        simplifiedAutoLink:                   true,
        excludeTrailingPunctuationFromURLs:   true,
        literalMidWordUnderscores:            true,
        strikethrough:                        true,
        tables:                               true,
        tablesHeaderId:                       true,
        ghCodeBlocks:                         true,
        tasklists:                            true,
        disableForced4SpacesIndentedSublists: true,
        simpleLineBreaks:                     true,
        requireSpaceBeforeHeadingText:        true,
        ghCompatibleHeaderId:                 true,
        ghMentions:                           true,
        backslashEscapesHTMLTags:             true,
        emoji:                                true
      },
      original: {
        noHeaderId:                           true,
        ghCodeBlocks:                         false
      },
      ghost: {
        omitExtraWLInCodeBlocks:              true,
        parseImgDimensions:                   true,
        simplifiedAutoLink:                   true,
        excludeTrailingPunctuationFromURLs:   true,
        literalMidWordUnderscores:            true,
        strikethrough:                        true,
        tables:                               true,
        tablesHeaderId:                       true,
        ghCodeBlocks:                         true,
        tasklists:                            true,
        smoothLivePreview:                    true,
        simpleLineBreaks:                     true,
        requireSpaceBeforeHeadingText:        true,
        ghMentions:                           false,
        encodeEmails:                         true
      },
      vanilla: getDefaultOpts(true),
      allOn: allOptionsOn()
    };

/**
 * helper namespace
 * @type {{}}
 */
showdown.helper = {};

/**
 * TODO LEGACY SUPPORT CODE
 * @type {{}}
 */
showdown.extensions = {};

/**
 * Set a global option
 * @static
 * @param {string} key
 * @param {*} value
 * @returns {showdown}
 */
showdown.setOption = function (key, value) {
  'use strict';
  globalOptions[key] = value;
  return this;
};

/**
 * Get a global option
 * @static
 * @param {string} key
 * @returns {*}
 */
showdown.getOption = function (key) {
  'use strict';
  return globalOptions[key];
};

/**
 * Get the global options
 * @static
 * @returns {{}}
 */
showdown.getOptions = function () {
  'use strict';
  return globalOptions;
};

/**
 * Reset global options to the default values
 * @static
 */
showdown.resetOptions = function () {
  'use strict';
  globalOptions = getDefaultOpts(true);
};

/**
 * Set the flavor showdown should use as default
 * @param {string} name
 */
showdown.setFlavor = function (name) {
  'use strict';
  if (!flavor.hasOwnProperty(name)) {
    throw Error(name + ' flavor was not found');
  }
  showdown.resetOptions();
  var preset = flavor[name];
  setFlavor = name;
  for (var option in preset) {
    if (preset.hasOwnProperty(option)) {
      globalOptions[option] = preset[option];
    }
  }
};

/**
 * Get the currently set flavor
 * @returns {string}
 */
showdown.getFlavor = function () {
  'use strict';
  return setFlavor;
};

/**
 * Get the options of a specified flavor. Returns undefined if the flavor was not found
 * @param {string} name Name of the flavor
 * @returns {{}|undefined}
 */
showdown.getFlavorOptions = function (name) {
  'use strict';
  if (flavor.hasOwnProperty(name)) {
    return flavor[name];
  }
};

/**
 * Get the default options
 * @static
 * @param {boolean} [simple=true]
 * @returns {{}}
 */
showdown.getDefaultOptions = function (simple) {
  'use strict';
  return getDefaultOpts(simple);
};

/**
 * Get or set a subParser
 *
 * subParser(name)       - Get a registered subParser
 * subParser(name, func) - Register a subParser
 * @static
 * @param {string} name
 * @param {function} [func]
 * @returns {*}
 */
showdown.subParser = function (name, func) {
  'use strict';
  if (showdown.helper.isString(name)) {
    if (typeof func !== 'undefined') {
      parsers[name] = func;
    } else {
      if (parsers.hasOwnProperty(name)) {
        return parsers[name];
      } else {
        throw Error('SubParser named ' + name + ' not registered!');
      }
    }
  }
};

/**
 * Gets or registers an extension
 * @static
 * @param {string} name
 * @param {object|function=} ext
 * @returns {*}
 */
showdown.extension = function (name, ext) {
  'use strict';

  if (!showdown.helper.isString(name)) {
    throw Error('Extension \'name\' must be a string');
  }

  name = showdown.helper.stdExtName(name);

  // Getter
  if (showdown.helper.isUndefined(ext)) {
    if (!extensions.hasOwnProperty(name)) {
      throw Error('Extension named ' + name + ' is not registered!');
    }
    return extensions[name];

    // Setter
  } else {
    // Expand extension if it's wrapped in a function
    if (typeof ext === 'function') {
      ext = ext();
    }

    // Ensure extension is an array
    if (!showdown.helper.isArray(ext)) {
      ext = [ext];
    }

    var validExtension = validate(ext, name);

    if (validExtension.valid) {
      extensions[name] = ext;
    } else {
      throw Error(validExtension.error);
    }
  }
};

/**
 * Gets all extensions registered
 * @returns {{}}
 */
showdown.getAllExtensions = function () {
  'use strict';
  return extensions;
};

/**
 * Remove an extension
 * @param {string} name
 */
showdown.removeExtension = function (name) {
  'use strict';
  delete extensions[name];
};

/**
 * Removes all extensions
 */
showdown.resetExtensions = function () {
  'use strict';
  extensions = {};
};

/**
 * Validate extension
 * @param {array} extension
 * @param {string} name
 * @returns {{valid: boolean, error: string}}
 */
function validate (extension, name) {
  'use strict';

  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',
      ret = {
        valid: true,
        error: ''
      };

  if (!showdown.helper.isArray(extension)) {
    extension = [extension];
  }

  for (var i = 0; i < extension.length; ++i) {
    var baseMsg = errMsg + ' sub-extension ' + i + ': ',
        ext = extension[i];
    if (typeof ext !== 'object') {
      ret.valid = false;
      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';
      return ret;
    }

    if (!showdown.helper.isString(ext.type)) {
      ret.valid = false;
      ret.error = baseMsg + 'property "type" must be a string, but ' + typeof ext.type + ' given';
      return ret;
    }

    var type = ext.type = ext.type.toLowerCase();

    // normalize extension type
    if (type === 'language') {
      type = ext.type = 'lang';
    }

    if (type === 'html') {
      type = ext.type = 'output';
    }

    if (type !== 'lang' && type !== 'output' && type !== 'listener') {
      ret.valid = false;
      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: "lang/language", "output/html" or "listener"';
      return ret;
    }

    if (type === 'listener') {
      if (showdown.helper.isUndefined(ext.listeners)) {
        ret.valid = false;
        ret.error = baseMsg + '. Extensions of type "listener" must have a property called "listeners"';
        return ret;
      }
    } else {
      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {
        ret.valid = false;
        ret.error = baseMsg + type + ' extensions must define either a "regex" property or a "filter" method';
        return ret;
      }
    }

    if (ext.listeners) {
      if (typeof ext.listeners !== 'object') {
        ret.valid = false;
        ret.error = baseMsg + '"listeners" property must be an object but ' + typeof ext.listeners + ' given';
        return ret;
      }
      for (var ln in ext.listeners) {
        if (ext.listeners.hasOwnProperty(ln)) {
          if (typeof ext.listeners[ln] !== 'function') {
            ret.valid = false;
            ret.error = baseMsg + '"listeners" property must be an hash of [event name]: [callback]. listeners.' + ln +
              ' must be a function but ' + typeof ext.listeners[ln] + ' given';
            return ret;
          }
        }
      }
    }

    if (ext.filter) {
      if (typeof ext.filter !== 'function') {
        ret.valid = false;
        ret.error = baseMsg + '"filter" must be a function, but ' + typeof ext.filter + ' given';
        return ret;
      }
    } else if (ext.regex) {
      if (showdown.helper.isString(ext.regex)) {
        ext.regex = new RegExp(ext.regex, 'g');
      }
      if (!(ext.regex instanceof RegExp)) {
        ret.valid = false;
        ret.error = baseMsg + '"regex" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';
        return ret;
      }
      if (showdown.helper.isUndefined(ext.replace)) {
        ret.valid = false;
        ret.error = baseMsg + '"regex" extensions must implement a replace string or function';
        return ret;
      }
    }
  }
  return ret;
}

/**
 * Validate extension
 * @param {object} ext
 * @returns {boolean}
 */
showdown.validateExtension = function (ext) {
  'use strict';

  var validateExtension = validate(ext, null);
  if (!validateExtension.valid) {
    console.warn(validateExtension.error);
    return false;
  }
  return true;
};

/**
 * showdownjs helper functions
 */

if (!showdown.hasOwnProperty('helper')) {
  showdown.helper = {};
}

/**
 * Check if var is string
 * @static
 * @param {string} a
 * @returns {boolean}
 */
showdown.helper.isString = function (a) {
  'use strict';
  return (typeof a === 'string' || a instanceof String);
};

/**
 * Check if var is a function
 * @static
 * @param {*} a
 * @returns {boolean}
 */
showdown.helper.isFunction = function (a) {
  'use strict';
  var getType = {};
  return a && getType.toString.call(a) === '[object Function]';
};

/**
 * isArray helper function
 * @static
 * @param {*} a
 * @returns {boolean}
 */
showdown.helper.isArray = function (a) {
  'use strict';
  return Array.isArray(a);
};

/**
 * Check if value is undefined
 * @static
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.
 */
showdown.helper.isUndefined = function (value) {
  'use strict';
  return typeof value === 'undefined';
};

/**
 * ForEach helper function
 * Iterates over Arrays and Objects (own properties only)
 * @static
 * @param {*} obj
 * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object
 */
showdown.helper.forEach = function (obj, callback) {
  'use strict';
  // check if obj is defined
  if (showdown.helper.isUndefined(obj)) {
    throw new Error('obj param is required');
  }

  if (showdown.helper.isUndefined(callback)) {
    throw new Error('callback param is required');
  }

  if (!showdown.helper.isFunction(callback)) {
    throw new Error('callback param must be a function/closure');
  }

  if (typeof obj.forEach === 'function') {
    obj.forEach(callback);
  } else if (showdown.helper.isArray(obj)) {
    for (var i = 0; i < obj.length; i++) {
      callback(obj[i], i, obj);
    }
  } else if (typeof (obj) === 'object') {
    for (var prop in obj) {
      if (obj.hasOwnProperty(prop)) {
        callback(obj[prop], prop, obj);
      }
    }
  } else {
    throw new Error('obj does not seem to be an array or an iterable object');
  }
};

/**
 * Standardidize extension name
 * @static
 * @param {string} s extension name
 * @returns {string}
 */
showdown.helper.stdExtName = function (s) {
  'use strict';
  return s.replace(/[_?*+\/\\.^-]/g, '').replace(/\s/g, '').toLowerCase();
};

function escapeCharactersCallback (wholeMatch, m1) {
  'use strict';
  var charCodeToEscape = m1.charCodeAt(0);
  return '¨E' + charCodeToEscape + 'E';
}

/**
 * Callback used to escape characters when passing through String.replace
 * @static
 * @param {string} wholeMatch
 * @param {string} m1
 * @returns {string}
 */
showdown.helper.escapeCharactersCallback = escapeCharactersCallback;

/**
 * Escape characters in a string
 * @static
 * @param {string} text
 * @param {string} charsToEscape
 * @param {boolean} afterBackslash
 * @returns {XML|string|void|*}
 */
showdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {
  'use strict';
  // First we have to escape the escape characters so that
  // we can build a character class out of them
  var regexString = '([' + charsToEscape.replace(/([\[\]\\])/g, '\\$1') + '])';

  if (afterBackslash) {
    regexString = '\\\\' + regexString;
  }

  var regex = new RegExp(regexString, 'g');
  text = text.replace(regex, escapeCharactersCallback);

  return text;
};

var rgxFindMatchPos = function (str, left, right, flags) {
  'use strict';
  var f = flags || '',
      g = f.indexOf('g') > -1,
      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),
      l = new RegExp(left, f.replace(/g/g, '')),
      pos = [],
      t, s, m, start, end;

  do {
    t = 0;
    while ((m = x.exec(str))) {
      if (l.test(m[0])) {
        if (!(t++)) {
          s = x.lastIndex;
          start = s - m[0].length;
        }
      } else if (t) {
        if (!--t) {
          end = m.index + m[0].length;
          var obj = {
            left: {start: start, end: s},
            match: {start: s, end: m.index},
            right: {start: m.index, end: end},
            wholeMatch: {start: start, end: end}
          };
          pos.push(obj);
          if (!g) {
            return pos;
          }
        }
      }
    }
  } while (t && (x.lastIndex = s));

  return pos;
};

/**
 * matchRecursiveRegExp
 *
 * (c) 2007 Steven Levithan <stevenlevithan.com>
 * MIT License
 *
 * Accepts a string to search, a left and right format delimiter
 * as regex patterns, and optional regex flags. Returns an array
 * of matches, allowing nested instances of left/right delimiters.
 * Use the "g" flag to return all matches, otherwise only the
 * first is returned. Be careful to ensure that the left and
 * right format delimiters produce mutually exclusive matches.
 * Backreferences are not supported within the right delimiter
 * due to how it is internally combined with the left delimiter.
 * When matching strings whose format delimiters are unbalanced
 * to the left or right, the output is intentionally as a
 * conventional regex library with recursion support would
 * produce, e.g. "<<x>" and "<x>>" both produce ["x"] when using
 * "<" and ">" as the delimiters (both strings contain a single,
 * balanced instance of "<x>").
 *
 * examples:
 * matchRecursiveRegExp("test", "\\(", "\\)")
 * returns: []
 * matchRecursiveRegExp("<t<<e>><s>>t<>", "<", ">", "g")
 * returns: ["t<<e>><s>", ""]
 * matchRecursiveRegExp("<div id=\"x\">test</div>", "<div\\b[^>]*>", "</div>", "gi")
 * returns: ["test"]
 */
showdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {
  'use strict';

  var matchPos = rgxFindMatchPos (str, left, right, flags),
      results = [];

  for (var i = 0; i < matchPos.length; ++i) {
    results.push([
      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),
      str.slice(matchPos[i].match.start, matchPos[i].match.end),
      str.slice(matchPos[i].left.start, matchPos[i].left.end),
      str.slice(matchPos[i].right.start, matchPos[i].right.end)
    ]);
  }
  return results;
};

/**
 *
 * @param {string} str
 * @param {string|function} replacement
 * @param {string} left
 * @param {string} right
 * @param {string} flags
 * @returns {string}
 */
showdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {
  'use strict';

  if (!showdown.helper.isFunction(replacement)) {
    var repStr = replacement;
    replacement = function () {
      return repStr;
    };
  }

  var matchPos = rgxFindMatchPos(str, left, right, flags),
      finalStr = str,
      lng = matchPos.length;

  if (lng > 0) {
    var bits = [];
    if (matchPos[0].wholeMatch.start !== 0) {
      bits.push(str.slice(0, matchPos[0].wholeMatch.start));
    }
    for (var i = 0; i < lng; ++i) {
      bits.push(
        replacement(
          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),
          str.slice(matchPos[i].match.start, matchPos[i].match.end),
          str.slice(matchPos[i].left.start, matchPos[i].left.end),
          str.slice(matchPos[i].right.start, matchPos[i].right.end)
        )
      );
      if (i < lng - 1) {
        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));
      }
    }
    if (matchPos[lng - 1].wholeMatch.end < str.length) {
      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));
    }
    finalStr = bits.join('');
  }
  return finalStr;
};

/**
 * Returns the index within the passed String object of the first occurrence of the specified regex,
 * starting the search at fromIndex. Returns -1 if the value is not found.
 *
 * @param {string} str string to search
 * @param {RegExp} regex Regular expression to search
 * @param {int} [fromIndex = 0] Index to start the search
 * @returns {Number}
 * @throws InvalidArgumentError
 */
showdown.helper.regexIndexOf = function (str, regex, fromIndex) {
  'use strict';
  if (!showdown.helper.isString(str)) {
    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';
  }
  if (regex instanceof RegExp === false) {
    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';
  }
  var indexOf = str.substring(fromIndex || 0).search(regex);
  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;
};

/**
 * Splits the passed string object at the defined index, and returns an array composed of the two substrings
 * @param {string} str string to split
 * @param {int} index index to split string at
 * @returns {[string,string]}
 * @throws InvalidArgumentError
 */
showdown.helper.splitAtIndex = function (str, index) {
  'use strict';
  if (!showdown.helper.isString(str)) {
    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';
  }
  return [str.substring(0, index), str.substring(index)];
};

/**
 * Obfuscate an e-mail address through the use of Character Entities,
 * transforming ASCII characters into their equivalent decimal or hex entities.
 *
 * Since it has a random component, subsequent calls to this function produce different results
 *
 * @param {string} mail
 * @returns {string}
 */
showdown.helper.encodeEmailAddress = function (mail) {
  'use strict';
  var encode = [
    function (ch) {
      return '&#' + ch.charCodeAt(0) + ';';
    },
    function (ch) {
      return '&#x' + ch.charCodeAt(0).toString(16) + ';';
    },
    function (ch) {
      return ch;
    }
  ];

  mail = mail.replace(/./g, function (ch) {
    if (ch === '@') {
      // this *must* be encoded. I insist.
      ch = encode[Math.floor(Math.random() * 2)](ch);
    } else {
      var r = Math.random();
      // roughly 10% raw, 45% hex, 45% dec
      ch = (
        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)
      );
    }
    return ch;
  });

  return mail;
};

/**
 * POLYFILLS
 */
// use this instead of builtin is undefined for IE8 compatibility
if (typeof(console) === 'undefined') {
  console = {
    warn: function (msg) {
      'use strict';
      alert(msg);
    },
    log: function (msg) {
      'use strict';
      alert(msg);
    },
    error: function (msg) {
      'use strict';
      throw msg;
    }
  };
}

/**
 * Common regexes.
 * We declare some common regexes to improve performance
 */
showdown.helper.regexes = {
  asteriskDashAndColon: /([*_:~])/g
};

/**
 * EMOJIS LIST
 */
showdown.helper.emojis = {};
  showdown.helper.emojis['+1'] = '\ud83d\udc4d';
  showdown.helper.emojis['-1'] = '\ud83d\udc4e';
  showdown.helper.emojis['100'] = '\ud83d\udcaf';
  showdown.helper.emojis['1234'] = '\ud83d\udd22';
  showdown.helper.emojis['1st_place_medal'] = '\ud83e\udd47';
  showdown.helper.emojis['2nd_place_medal'] = '\ud83e\udd48';
  showdown.helper.emojis['3rd_place_medal'] = '\ud83e\udd49';
  showdown.helper.emojis['8ball'] = '\ud83c\udfb1';
  showdown.helper.emojis['a'] = '\ud83c\udd70\ufe0f';
  showdown.helper.emojis['ab'] = '\ud83c\udd8e';
  showdown.helper.emojis['abc'] = '\ud83d\udd24';
  showdown.helper.emojis['abcd'] = '\ud83d\udd21';
  showdown.helper.emojis['accept'] = '\ud83c\ude51';
  showdown.helper.emojis['aerial_tramway'] = '\ud83d\udea1';
  showdown.helper.emojis['airplane'] = '\u2708\ufe0f';
  showdown.helper.emojis['alarm_clock'] = '\u23f0';
  showdown.helper.emojis['alembic'] = '\u2697\ufe0f';
  showdown.helper.emojis['alien'] = '\ud83d\udc7d';
  showdown.helper.emojis['ambulance'] = '\ud83d\ude91';
  showdown.helper.emojis['amphora'] = '\ud83c\udffa';
  showdown.helper.emojis['anchor'] = '\u2693\ufe0f';
  showdown.helper.emojis['angel'] = '\ud83d\udc7c';
  showdown.helper.emojis['anger'] = '\ud83d\udca2';
  showdown.helper.emojis['angry'] = '\ud83d\ude20';
  showdown.helper.emojis['anguished'] = '\ud83d\ude27';
  showdown.helper.emojis['ant'] = '\ud83d\udc1c';
  showdown.helper.emojis['apple'] = '\ud83c\udf4e';
  showdown.helper.emojis['aquarius'] = '\u2652\ufe0f';
  showdown.helper.emojis['aries'] = '\u2648\ufe0f';
  showdown.helper.emojis['arrow_backward'] = '\u25c0\ufe0f';
  showdown.helper.emojis['arrow_double_down'] = '\u23ec';
  showdown.helper.emojis['arrow_double_up'] = '\u23eb';
  showdown.helper.emojis['arrow_down'] = '\u2b07\ufe0f';
  showdown.helper.emojis['arrow_down_small'] = '\ud83d\udd3d';
  showdown.helper.emojis['arrow_forward'] = '\u25b6\ufe0f';
  showdown.helper.emojis['arrow_heading_down'] = '\u2935\ufe0f';
  showdown.helper.emojis['arrow_heading_up'] = '\u2934\ufe0f';
  showdown.helper.emojis['arrow_left'] = '\u2b05\ufe0f';
  showdown.helper.emojis['arrow_lower_left'] = '\u2199\ufe0f';
  showdown.helper.emojis['arrow_lower_right'] = '\u2198\ufe0f';
  showdown.helper.emojis['arrow_right'] = '\u27a1\ufe0f';
  showdown.helper.emojis['arrow_right_hook'] = '\u21aa\ufe0f';
  showdown.helper.emojis['arrow_up'] = '\u2b06\ufe0f';
  showdown.helper.emojis['arrow_up_down'] = '\u2195\ufe0f';
  showdown.helper.emojis['arrow_up_small'] = '\ud83d\udd3c';
  showdown.helper.emojis['arrow_upper_left'] = '\u2196\ufe0f';
  showdown.helper.emojis['arrow_upper_right'] = '\u2197\ufe0f';
  showdown.helper.emojis['arrows_clockwise'] = '\ud83d\udd03';
  showdown.helper.emojis['arrows_counterclockwise'] = '\ud83d\udd04';
  showdown.helper.emojis['art'] = '\ud83c\udfa8';
  showdown.helper.emojis['articulated_lorry'] = '\ud83d\ude9b';
  showdown.helper.emojis['artificial_satellite'] = '\ud83d\udef0';
  showdown.helper.emojis['astonished'] = '\ud83d\ude32';
  showdown.helper.emojis['athletic_shoe'] = '\ud83d\udc5f';
  showdown.helper.emojis['atm'] = '\ud83c\udfe7';
  showdown.helper.emojis['atom_symbol'] = '\u269b\ufe0f';
  showdown.helper.emojis['avocado'] = '\ud83e\udd51';
  showdown.helper.emojis['b'] = '\ud83c\udd71\ufe0f';
  showdown.helper.emojis['baby'] = '\ud83d\udc76';
  showdown.helper.emojis['baby_bottle'] = '\ud83c\udf7c';
  showdown.helper.emojis['baby_chick'] = '\ud83d\udc24';
  showdown.helper.emojis['baby_symbol'] = '\ud83d\udebc';
  showdown.helper.emojis['back'] = '\ud83d\udd19';
  showdown.helper.emojis['bacon'] = '\ud83e\udd53';
  showdown.helper.emojis['badminton'] = '\ud83c\udff8';
  showdown.helper.emojis['baggage_claim'] = '\ud83d\udec4';
  showdown.helper.emojis['baguette_bread'] = '\ud83e\udd56';
  showdown.helper.emojis['balance_scale'] = '\u2696\ufe0f';
  showdown.helper.emojis['balloon'] = '\ud83c\udf88';
  showdown.helper.emojis['ballot_box'] = '\ud83d\uddf3';
  showdown.helper.emojis['ballot_box_with_check'] = '\u2611\ufe0f';
  showdown.helper.emojis['bamboo'] = '\ud83c\udf8d';
  showdown.helper.emojis['banana'] = '\ud83c\udf4c';
  showdown.helper.emojis['bangbang'] = '\u203c\ufe0f';
  showdown.helper.emojis['bank'] = '\ud83c\udfe6';
  showdown.helper.emojis['bar_chart'] = '\ud83d\udcca';
  showdown.helper.emojis['barber'] = '\ud83d\udc88';
  showdown.helper.emojis['baseball'] = '\u26be\ufe0f';
  showdown.helper.emojis['basketball'] = '\ud83c\udfc0';
  showdown.helper.emojis['basketball_man'] = '\u26f9\ufe0f';
  showdown.helper.emojis['basketball_woman'] = '\u26f9\ufe0f&zwj;\u2640\ufe0f';
  showdown.helper.emojis['bat'] = '\ud83e\udd87';
  showdown.helper.emojis['bath'] = '\ud83d\udec0';
  showdown.helper.emojis['bathtub'] = '\ud83d\udec1';
  showdown.helper.emojis['battery'] = '\ud83d\udd0b';
  showdown.helper.emojis['beach_umbrella'] = '\ud83c\udfd6';
  showdown.helper.emojis['bear'] = '\ud83d\udc3b';
  showdown.helper.emojis['bed'] = '\ud83d\udecf';
  showdown.helper.emojis['bee'] = '\ud83d\udc1d';
  showdown.helper.emojis['beer'] = '\ud83c\udf7a';
  showdown.helper.emojis['beers'] = '\ud83c\udf7b';
  showdown.helper.emojis['beetle'] = '\ud83d\udc1e';
  showdown.helper.emojis['beginner'] = '\ud83d\udd30';
  showdown.helper.emojis['bell'] = '\ud83d\udd14';
  showdown.helper.emojis['bellhop_bell'] = '\ud83d\udece';
  showdown.helper.emojis['bento'] = '\ud83c\udf71';
  showdown.helper.emojis['biking_man'] = '\ud83d\udeb4';
  showdown.helper.emojis['bike'] = '\ud83d\udeb2';
  showdown.helper.emojis['biking_woman'] = '\ud83d\udeb4&zwj;\u2640\ufe0f';
  showdown.helper.emojis['bikini'] = '\ud83d\udc59';
  showdown.helper.emojis['biohazard'] = '\u2623\ufe0f';
  showdown.helper.emojis['bird'] = '\ud83d\udc26';
  showdown.helper.emojis['birthday'] = '\ud83c\udf82';
  showdown.helper.emojis['black_circle'] = '\u26ab\ufe0f';
  showdown.helper.emojis['black_flag'] = '\ud83c\udff4';
  showdown.helper.emojis['black_heart'] = '\ud83d\udda4';
  showdown.helper.emojis['black_joker'] = '\ud83c\udccf';
  showdown.helper.emojis['black_large_square'] = '\u2b1b\ufe0f';
  showdown.helper.emojis['black_medium_small_square'] = '\u25fe\ufe0f';
  showdown.helper.emojis['black_medium_square'] = '\u25fc\ufe0f';
  showdown.helper.emojis['black_nib'] = '\u2712\ufe0f';
  showdown.helper.emojis['black_small_square'] = '\u25aa\ufe0f';
  showdown.helper.emojis['black_square_button'] = '\ud83d\udd32';
  showdown.helper.emojis['blonde_man'] = '\ud83d\udc71';
  showdown.helper.emojis['blonde_woman'] = '\ud83d\udc71&zwj;\u2640\ufe0f';
  showdown.helper.emojis['blossom'] = '\ud83c\udf3c';
  showdown.helper.emojis['blowfish'] = '\ud83d\udc21';
  showdown.helper.emojis['blue_book'] = '\ud83d\udcd8';
  showdown.helper.emojis['blue_car'] = '\ud83d\ude99';
  showdown.helper.emojis['blue_heart'] = '\ud83d\udc99';
  showdown.helper.emojis['blush'] = '\ud83d\ude0a';
  showdown.helper.emojis['boar'] = '\ud83d\udc17';
  showdown.helper.emojis['boat'] = '\u26f5\ufe0f';
  showdown.helper.emojis['bomb'] = '\ud83d\udca3';
  showdown.helper.emojis['book'] = '\ud83d\udcd6';
  showdown.helper.emojis['bookmark'] = '\ud83d\udd16';
  showdown.helper.emojis['bookmark_tabs'] = '\ud83d\udcd1';
  showdown.helper.emojis['books'] = '\ud83d\udcda';
  showdown.helper.emojis['boom'] = '\ud83d\udca5';
  showdown.helper.emojis['boot'] = '\ud83d\udc62';
  showdown.helper.emojis['bouquet'] = '\ud83d\udc90';
  showdown.helper.emojis['bowing_man'] = '\ud83d\ude47';
  showdown.helper.emojis['bow_and_arrow'] = '\ud83c\udff9';
  showdown.helper.emojis['bowing_woman'] = '\ud83d\ude47&zwj;\u2640\ufe0f';
  showdown.helper.emojis['bowling'] = '\ud83c\udfb3';
  showdown.helper.emojis['boxing_glove'] = '\ud83e\udd4a';
  showdown.helper.emojis['boy'] = '\ud83d\udc66';
  showdown.helper.emojis['bread'] = '\ud83c\udf5e';
  showdown.helper.emojis['bride_with_veil'] = '\ud83d\udc70';
  showdown.helper.emojis['bridge_at_night'] = '\ud83c\udf09';
  showdown.helper.emojis['briefcase'] = '\ud83d\udcbc';
  showdown.helper.emojis['broken_heart'] = '\ud83d\udc94';
  showdown.helper.emojis['bug'] = '\ud83d\udc1b';
  showdown.helper.emojis['building_construction'] = '\ud83c\udfd7';
  showdown.helper.emojis['bulb'] = '\ud83d\udca1';
  showdown.helper.emojis['bullettrain_front'] = '\ud83d\ude85';
  showdown.helper.emojis['bullettrain_side'] = '\ud83d\ude84';
  showdown.helper.emojis['burrito'] = '\ud83c\udf2f';
  showdown.helper.emojis['bus'] = '\ud83d\ude8c';
  showdown.helper.emojis['business_suit_levitating'] = '\ud83d\udd74';
  showdown.helper.emojis['busstop'] = '\ud83d\ude8f';
  showdown.helper.emojis['bust_in_silhouette'] = '\ud83d\udc64';
  showdown.helper.emojis['busts_in_silhouette'] = '\ud83d\udc65';
  showdown.helper.emojis['butterfly'] = '\ud83e\udd8b';
  showdown.helper.emojis['cactus'] = '\ud83c\udf35';
  showdown.helper.emojis['cake'] = '\ud83c\udf70';
  showdown.helper.emojis['calendar'] = '\ud83d\udcc6';
  showdown.helper.emojis['call_me_hand'] = '\ud83e\udd19';
  showdown.helper.emojis['calling'] = '\ud83d\udcf2';
  showdown.helper.emojis['camel'] = '\ud83d\udc2b';
  showdown.helper.emojis['camera'] = '\ud83d\udcf7';
  showdown.helper.emojis['camera_flash'] = '\ud83d\udcf8';
  showdown.helper.emojis['camping'] = '\ud83c\udfd5';
  showdown.helper.emojis['cancer'] = '\u264b\ufe0f';
  showdown.helper.emojis['candle'] = '\ud83d\udd6f';
  showdown.helper.emojis['candy'] = '\ud83c\udf6c';
  showdown.helper.emojis['canoe'] = '\ud83d\udef6';
  showdown.helper.emojis['capital_abcd'] = '\ud83d\udd20';
  showdown.helper.emojis['capricorn'] = '\u2651\ufe0f';
  showdown.helper.emojis['car'] = '\ud83d\ude97';
  showdown.helper.emojis['card_file_box'] = '\ud83d\uddc3';
  showdown.helper.emojis['card_index'] = '\ud83d\udcc7';
  showdown.helper.emojis['card_index_dividers'] = '\ud83d\uddc2';
  showdown.helper.emojis['carousel_horse'] = '\ud83c\udfa0';
  showdown.helper.emojis['carrot'] = '\ud83e\udd55';
  showdown.helper.emojis['cat'] = '\ud83d\udc31';
  showdown.helper.emojis['cat2'] = '\ud83d\udc08';
  showdown.helper.emojis['cd'] = '\ud83d\udcbf';
  showdown.helper.emojis['chains'] = '\u26d3';
  showdown.helper.emojis['champagne'] = '\ud83c\udf7e';
  showdown.helper.emojis['chart'] = '\ud83d\udcb9';
  showdown.helper.emojis['chart_with_downwards_trend'] = '\ud83d\udcc9';
  showdown.helper.emojis['chart_with_upwards_trend'] = '\ud83d\udcc8';
  showdown.helper.emojis['checkered_flag'] = '\ud83c\udfc1';
  showdown.helper.emojis['cheese'] = '\ud83e\uddc0';
  showdown.helper.emojis['cherries'] = '\ud83c\udf52';
  showdown.helper.emojis['cherry_blossom'] = '\ud83c\udf38';
  showdown.helper.emojis['chestnut'] = '\ud83c\udf30';
  showdown.helper.emojis['chicken'] = '\ud83d\udc14';
  showdown.helper.emojis['children_crossing'] = '\ud83d\udeb8';
  showdown.helper.emojis['chipmunk'] = '\ud83d\udc3f';
  showdown.helper.emojis['chocolate_bar'] = '\ud83c\udf6b';
  showdown.helper.emojis['christmas_tree'] = '\ud83c\udf84';
  showdown.helper.emojis['church'] = '\u26ea\ufe0f';
  showdown.helper.emojis['cinema'] = '\ud83c\udfa6';
  showdown.helper.emojis['circus_tent'] = '\ud83c\udfaa';
  showdown.helper.emojis['city_sunrise'] = '\ud83c\udf07';
  showdown.helper.emojis['city_sunset'] = '\ud83c\udf06';
  showdown.helper.emojis['cityscape'] = '\ud83c\udfd9';
  showdown.helper.emojis['cl'] = '\ud83c\udd91';
  showdown.helper.emojis['clamp'] = '\ud83d\udddc';
  showdown.helper.emojis['clap'] = '\ud83d\udc4f';
  showdown.helper.emojis['clapper'] = '\ud83c\udfac';
  showdown.helper.emojis['classical_building'] = '\ud83c\udfdb';
  showdown.helper.emojis['clinking_glasses'] = '\ud83e\udd42';
  showdown.helper.emojis['clipboard'] = '\ud83d\udccb';
  showdown.helper.emojis['clock1'] = '\ud83d\udd50';
  showdown.helper.emojis['clock10'] = '\ud83d\udd59';
  showdown.helper.emojis['clock1030'] = '\ud83d\udd65';
  showdown.helper.emojis['clock11'] = '\ud83d\udd5a';
  showdown.helper.emojis['clock1130'] = '\ud83d\udd66';
  showdown.helper.emojis['clock12'] = '\ud83d\udd5b';
  showdown.helper.emojis['clock1230'] = '\ud83d\udd67';
  showdown.helper.emojis['clock130'] = '\ud83d\udd5c';
  showdown.helper.emojis['clock2'] = '\ud83d\udd51';
  showdown.helper.emojis['clock230'] = '\ud83d\udd5d';
  showdown.helper.emojis['clock3'] = '\ud83d\udd52';
  showdown.helper.emojis['clock330'] = '\ud83d\udd5e';
  showdown.helper.emojis['clock4'] = '\ud83d\udd53';
  showdown.helper.emojis['clock430'] = '\ud83d\udd5f';
  showdown.helper.emojis['clock5'] = '\ud83d\udd54';
  showdown.helper.emojis['clock530'] = '\ud83d\udd60';
  showdown.helper.emojis['clock6'] = '\ud83d\udd55';
  showdown.helper.emojis['clock630'] = '\ud83d\udd61';
  showdown.helper.emojis['clock7'] = '\ud83d\udd56';
  showdown.helper.emojis['clock730'] = '\ud83d\udd62';
  showdown.helper.emojis['clock8'] = '\ud83d\udd57';
  showdown.helper.emojis['clock830'] = '\ud83d\udd63';
  showdown.helper.emojis['clock9'] = '\ud83d\udd58';
  showdown.helper.emojis['clock930'] = '\ud83d\udd64';
  showdown.helper.emojis['closed_book'] = '\ud83d\udcd5';
  showdown.helper.emojis['closed_lock_with_key'] = '\ud83d\udd10';
  showdown.helper.emojis['closed_umbrella'] = '\ud83c\udf02';
  showdown.helper.emojis['cloud'] = '\u2601\ufe0f';
  showdown.helper.emojis['cloud_with_lightning'] = '\ud83c\udf29';
  showdown.helper.emojis['cloud_with_lightning_and_rain'] = '\u26c8';
  showdown.helper.emojis['cloud_with_rain'] = '\ud83c\udf27';
  showdown.helper.emojis['cloud_with_snow'] = '\ud83c\udf28';
  showdown.helper.emojis['clown_face'] = '\ud83e\udd21';
  showdown.helper.emojis['clubs'] = '\u2663\ufe0f';
  showdown.helper.emojis['cocktail'] = '\ud83c\udf78';
  showdown.helper.emojis['coffee'] = '\u2615\ufe0f';
  showdown.helper.emojis['coffin'] = '\u26b0\ufe0f';
  showdown.helper.emojis['cold_sweat'] = '\ud83d\ude30';
  showdown.helper.emojis['comet'] = '\u2604\ufe0f';
  showdown.helper.emojis['computer'] = '\ud83d\udcbb';
  showdown.helper.emojis['computer_mouse'] = '\ud83d\uddb1';
  showdown.helper.emojis['confetti_ball'] = '\ud83c\udf8a';
  showdown.helper.emojis['confounded'] = '\ud83d\ude16';
  showdown.helper.emojis['confused'] = '\ud83d\ude15';
  showdown.helper.emojis['congratulations'] = '\u3297\ufe0f';
  showdown.helper.emojis['construction'] = '\ud83d\udea7';
  showdown.helper.emojis['construction_worker_man'] = '\ud83d\udc77';
  showdown.helper.emojis['construction_worker_woman'] = '\ud83d\udc77&zwj;\u2640\ufe0f';
  showdown.helper.emojis['control_knobs'] = '\ud83c\udf9b';
  showdown.helper.emojis['convenience_store'] = '\ud83c\udfea';
  showdown.helper.emojis['cookie'] = '\ud83c\udf6a';
  showdown.helper.emojis['cool'] = '\ud83c\udd92';
  showdown.helper.emojis['policeman'] = '\ud83d\udc6e';
  showdown.helper.emojis['copyright'] = '\u00a9\ufe0f';
  showdown.helper.emojis['corn'] = '\ud83c\udf3d';
  showdown.helper.emojis['couch_and_lamp'] = '\ud83d\udecb';
  showdown.helper.emojis['couple'] = '\ud83d\udc6b';
  showdown.helper.emojis['couple_with_heart_woman_man'] = '\ud83d\udc91';
  showdown.helper.emojis['couple_with_heart_man_man'] = '\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc68';
  showdown.helper.emojis['couple_with_heart_woman_woman'] = '\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc69';
  showdown.helper.emojis['couplekiss_man_man'] = '\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc68';
  showdown.helper.emojis['couplekiss_man_woman'] = '\ud83d\udc8f';
  showdown.helper.emojis['couplekiss_woman_woman'] = '\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc69';
  showdown.helper.emojis['cow'] = '\ud83d\udc2e';
  showdown.helper.emojis['cow2'] = '\ud83d\udc04';
  showdown.helper.emojis['cowboy_hat_face'] = '\ud83e\udd20';
  showdown.helper.emojis['crab'] = '\ud83e\udd80';
  showdown.helper.emojis['crayon'] = '\ud83d\udd8d';
  showdown.helper.emojis['credit_card'] = '\ud83d\udcb3';
  showdown.helper.emojis['crescent_moon'] = '\ud83c\udf19';
  showdown.helper.emojis['cricket'] = '\ud83c\udfcf';
  showdown.helper.emojis['crocodile'] = '\ud83d\udc0a';
  showdown.helper.emojis['croissant'] = '\ud83e\udd50';
  showdown.helper.emojis['crossed_fingers'] = '\ud83e\udd1e';
  showdown.helper.emojis['crossed_flags'] = '\ud83c\udf8c';
  showdown.helper.emojis['crossed_swords'] = '\u2694\ufe0f';
  showdown.helper.emojis['crown'] = '\ud83d\udc51';
  showdown.helper.emojis['cry'] = '\ud83d\ude22';
  showdown.helper.emojis['crying_cat_face'] = '\ud83d\ude3f';
  showdown.helper.emojis['crystal_ball'] = '\ud83d\udd2e';
  showdown.helper.emojis['cucumber'] = '\ud83e\udd52';
  showdown.helper.emojis['cupid'] = '\ud83d\udc98';
  showdown.helper.emojis['curly_loop'] = '\u27b0';
  showdown.helper.emojis['currency_exchange'] = '\ud83d\udcb1';
  showdown.helper.emojis['curry'] = '\ud83c\udf5b';
  showdown.helper.emojis['custard'] = '\ud83c\udf6e';
  showdown.helper.emojis['customs'] = '\ud83d\udec3';
  showdown.helper.emojis['cyclone'] = '\ud83c\udf00';
  showdown.helper.emojis['dagger'] = '\ud83d\udde1';
  showdown.helper.emojis['dancer'] = '\ud83d\udc83';
  showdown.helper.emojis['dancing_women'] = '\ud83d\udc6f';
  showdown.helper.emojis['dancing_men'] = '\ud83d\udc6f&zwj;\u2642\ufe0f';
  showdown.helper.emojis['dango'] = '\ud83c\udf61';
  showdown.helper.emojis['dark_sunglasses'] = '\ud83d\udd76';
  showdown.helper.emojis['dart'] = '\ud83c\udfaf';
  showdown.helper.emojis['dash'] = '\ud83d\udca8';
  showdown.helper.emojis['date'] = '\ud83d\udcc5';
  showdown.helper.emojis['deciduous_tree'] = '\ud83c\udf33';
  showdown.helper.emojis['deer'] = '\ud83e\udd8c';
  showdown.helper.emojis['department_store'] = '\ud83c\udfec';
  showdown.helper.emojis['derelict_house'] = '\ud83c\udfda';
  showdown.helper.emojis['desert'] = '\ud83c\udfdc';
  showdown.helper.emojis['desert_island'] = '\ud83c\udfdd';
  showdown.helper.emojis['desktop_computer'] = '\ud83d\udda5';
  showdown.helper.emojis['male_detective'] = '\ud83d\udd75\ufe0f';
  showdown.helper.emojis['diamond_shape_with_a_dot_inside'] = '\ud83d\udca0';
  showdown.helper.emojis['diamonds'] = '\u2666\ufe0f';
  showdown.helper.emojis['disappointed'] = '\ud83d\ude1e';
  showdown.helper.emojis['disappointed_relieved'] = '\ud83d\ude25';
  showdown.helper.emojis['dizzy'] = '\ud83d\udcab';
  showdown.helper.emojis['dizzy_face'] = '\ud83d\ude35';
  showdown.helper.emojis['do_not_litter'] = '\ud83d\udeaf';
  showdown.helper.emojis['dog'] = '\ud83d\udc36';
  showdown.helper.emojis['dog2'] = '\ud83d\udc15';
  showdown.helper.emojis['dollar'] = '\ud83d\udcb5';
  showdown.helper.emojis['dolls'] = '\ud83c\udf8e';
  showdown.helper.emojis['dolphin'] = '\ud83d\udc2c';
  showdown.helper.emojis['door'] = '\ud83d\udeaa';
  showdown.helper.emojis['doughnut'] = '\ud83c\udf69';
  showdown.helper.emojis['dove'] = '\ud83d\udd4a';
  showdown.helper.emojis['dragon'] = '\ud83d\udc09';
  showdown.helper.emojis['dragon_face'] = '\ud83d\udc32';
  showdown.helper.emojis['dress'] = '\ud83d\udc57';
  showdown.helper.emojis['dromedary_camel'] = '\ud83d\udc2a';
  showdown.helper.emojis['drooling_face'] = '\ud83e\udd24';
  showdown.helper.emojis['droplet'] = '\ud83d\udca7';
  showdown.helper.emojis['drum'] = '\ud83e\udd41';
  showdown.helper.emojis['duck'] = '\ud83e\udd86';
  showdown.helper.emojis['dvd'] = '\ud83d\udcc0';
  showdown.helper.emojis['e-mail'] = '\ud83d\udce7';
  showdown.helper.emojis['eagle'] = '\ud83e\udd85';
  showdown.helper.emojis['ear'] = '\ud83d\udc42';
  showdown.helper.emojis['ear_of_rice'] = '\ud83c\udf3e';
  showdown.helper.emojis['earth_africa'] = '\ud83c\udf0d';
  showdown.helper.emojis['earth_americas'] = '\ud83c\udf0e';
  showdown.helper.emojis['earth_asia'] = '\ud83c\udf0f';
  showdown.helper.emojis['egg'] = '\ud83e\udd5a';
  showdown.helper.emojis['eggplant'] = '\ud83c\udf46';
  showdown.helper.emojis['eight_pointed_black_star'] = '\u2734\ufe0f';
  showdown.helper.emojis['eight_spoked_asterisk'] = '\u2733\ufe0f';
  showdown.helper.emojis['electric_plug'] = '\ud83d\udd0c';
  showdown.helper.emojis['elephant'] = '\ud83d\udc18';
  showdown.helper.emojis['email'] = '\u2709\ufe0f';
  showdown.helper.emojis['end'] = '\ud83d\udd1a';
  showdown.helper.emojis['envelope_with_arrow'] = '\ud83d\udce9';
  showdown.helper.emojis['euro'] = '\ud83d\udcb6';
  showdown.helper.emojis['european_castle'] = '\ud83c\udff0';
  showdown.helper.emojis['european_post_office'] = '\ud83c\udfe4';
  showdown.helper.emojis['evergreen_tree'] = '\ud83c\udf32';
  showdown.helper.emojis['exclamation'] = '\u2757\ufe0f';
  showdown.helper.emojis['expressionless'] = '\ud83d\ude11';
  showdown.helper.emojis['eye'] = '\ud83d\udc41';
  showdown.helper.emojis['eye_speech_bubble'] = '\ud83d\udc41&zwj;\ud83d\udde8';
  showdown.helper.emojis['eyeglasses'] = '\ud83d\udc53';
  showdown.helper.emojis['eyes'] = '\ud83d\udc40';
  showdown.helper.emojis['face_with_head_bandage'] = '\ud83e\udd15';
  showdown.helper.emojis['face_with_thermometer'] = '\ud83e\udd12';
  showdown.helper.emojis['fist_oncoming'] = '\ud83d\udc4a';
  showdown.helper.emojis['factory'] = '\ud83c\udfed';
  showdown.helper.emojis['fallen_leaf'] = '\ud83c\udf42';
  showdown.helper.emojis['family_man_woman_boy'] = '\ud83d\udc6a';
  showdown.helper.emojis['family_man_boy'] = '\ud83d\udc68&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_boy_boy'] = '\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_girl'] = '\ud83d\udc68&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_man_girl_boy'] = '\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_girl_girl'] = '\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_man_man_boy'] = '\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_man_boy_boy'] = '\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_man_girl'] = '\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_man_man_girl_boy'] = '\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_man_girl_girl'] = '\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_man_woman_boy_boy'] = '\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_woman_girl'] = '\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_man_woman_girl_boy'] = '\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_man_woman_girl_girl'] = '\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_woman_boy'] = '\ud83d\udc69&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_woman_boy_boy'] = '\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_woman_girl'] = '\ud83d\udc69&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_woman_girl_boy'] = '\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_woman_girl_girl'] = '\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_woman_woman_boy'] = '\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_woman_woman_boy_boy'] = '\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_woman_woman_girl'] = '\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67';
  showdown.helper.emojis['family_woman_woman_girl_boy'] = '\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66';
  showdown.helper.emojis['family_woman_woman_girl_girl'] = '\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67';
  showdown.helper.emojis['fast_forward'] = '\u23e9';
  showdown.helper.emojis['fax'] = '\ud83d\udce0';
  showdown.helper.emojis['fearful'] = '\ud83d\ude28';
  showdown.helper.emojis['feet'] = '\ud83d\udc3e';
  showdown.helper.emojis['female_detective'] = '\ud83d\udd75\ufe0f&zwj;\u2640\ufe0f';
  showdown.helper.emojis['ferris_wheel'] = '\ud83c\udfa1';
  showdown.helper.emojis['ferry'] = '\u26f4';
  showdown.helper.emojis['field_hockey'] = '\ud83c\udfd1';
  showdown.helper.emojis['file_cabinet'] = '\ud83d\uddc4';
  showdown.helper.emojis['file_folder'] = '\ud83d\udcc1';
  showdown.helper.emojis['film_projector'] = '\ud83d\udcfd';
  showdown.helper.emojis['film_strip'] = '\ud83c\udf9e';
  showdown.helper.emojis['fire'] = '\ud83d\udd25';
  showdown.helper.emojis['fire_engine'] = '\ud83d\ude92';
  showdown.helper.emojis['fireworks'] = '\ud83c\udf86';
  showdown.helper.emojis['first_quarter_moon'] = '\ud83c\udf13';
  showdown.helper.emojis['first_quarter_moon_with_face'] = '\ud83c\udf1b';
  showdown.helper.emojis['fish'] = '\ud83d\udc1f';
  showdown.helper.emojis['fish_cake'] = '\ud83c\udf65';
  showdown.helper.emojis['fishing_pole_and_fish'] = '\ud83c\udfa3';
  showdown.helper.emojis['fist_raised'] = '\u270a';
  showdown.helper.emojis['fist_left'] = '\ud83e\udd1b';
  showdown.helper.emojis['fist_right'] = '\ud83e\udd1c';
  showdown.helper.emojis['flags'] = '\ud83c\udf8f';
  showdown.helper.emojis['flashlight'] = '\ud83d\udd26';
  showdown.helper.emojis['fleur_de_lis'] = '\u269c\ufe0f';
  showdown.helper.emojis['flight_arrival'] = '\ud83d\udeec';
  showdown.helper.emojis['flight_departure'] = '\ud83d\udeeb';
  showdown.helper.emojis['floppy_disk'] = '\ud83d\udcbe';
  showdown.helper.emojis['flower_playing_cards'] = '\ud83c\udfb4';
  showdown.helper.emojis['flushed'] = '\ud83d\ude33';
  showdown.helper.emojis['fog'] = '\ud83c\udf2b';
  showdown.helper.emojis['foggy'] = '\ud83c\udf01';
  showdown.helper.emojis['football'] = '\ud83c\udfc8';
  showdown.helper.emojis['footprints'] = '\ud83d\udc63';
  showdown.helper.emojis['fork_and_knife'] = '\ud83c\udf74';
  showdown.helper.emojis['fountain'] = '\u26f2\ufe0f';
  showdown.helper.emojis['fountain_pen'] = '\ud83d\udd8b';
  showdown.helper.emojis['four_leaf_clover'] = '\ud83c\udf40';
  showdown.helper.emojis['fox_face'] = '\ud83e\udd8a';
  showdown.helper.emojis['framed_picture'] = '\ud83d\uddbc';
  showdown.helper.emojis['free'] = '\ud83c\udd93';
  showdown.helper.emojis['fried_egg'] = '\ud83c\udf73';
  showdown.helper.emojis['fried_shrimp'] = '\ud83c\udf64';
  showdown.helper.emojis['fries'] = '\ud83c\udf5f';
  showdown.helper.emojis['frog'] = '\ud83d\udc38';
  showdown.helper.emojis['frowning'] = '\ud83d\ude26';
  showdown.helper.emojis['frowning_face'] = '\u2639\ufe0f';
  showdown.helper.emojis['frowning_man'] = '\ud83d\ude4d&zwj;\u2642\ufe0f';
  showdown.helper.emojis['frowning_woman'] = '\ud83d\ude4d';
  showdown.helper.emojis['middle_finger'] = '\ud83d\udd95';
  showdown.helper.emojis['fuelpump'] = '\u26fd\ufe0f';
  showdown.helper.emojis['full_moon'] = '\ud83c\udf15';
  showdown.helper.emojis['full_moon_with_face'] = '\ud83c\udf1d';
  showdown.helper.emojis['funeral_urn'] = '\u26b1\ufe0f';
  showdown.helper.emojis['game_die'] = '\ud83c\udfb2';
  showdown.helper.emojis['gear'] = '\u2699\ufe0f';
  showdown.helper.emojis['gem'] = '\ud83d\udc8e';
  showdown.helper.emojis['gemini'] = '\u264a\ufe0f';
  showdown.helper.emojis['ghost'] = '\ud83d\udc7b';
  showdown.helper.emojis['gift'] = '\ud83c\udf81';
  showdown.helper.emojis['gift_heart'] = '\ud83d\udc9d';
  showdown.helper.emojis['girl'] = '\ud83d\udc67';
  showdown.helper.emojis['globe_with_meridians'] = '\ud83c\udf10';
  showdown.helper.emojis['goal_net'] = '\ud83e\udd45';
  showdown.helper.emojis['goat'] = '\ud83d\udc10';
  showdown.helper.emojis['golf'] = '\u26f3\ufe0f';
  showdown.helper.emojis['golfing_man'] = '\ud83c\udfcc\ufe0f';
  showdown.helper.emojis['golfing_woman'] = '\ud83c\udfcc\ufe0f&zwj;\u2640\ufe0f';
  showdown.helper.emojis['gorilla'] = '\ud83e\udd8d';
  showdown.helper.emojis['grapes'] = '\ud83c\udf47';
  showdown.helper.emojis['green_apple'] = '\ud83c\udf4f';
  showdown.helper.emojis['green_book'] = '\ud83d\udcd7';
  showdown.helper.emojis['green_heart'] = '\ud83d\udc9a';
  showdown.helper.emojis['green_salad'] = '\ud83e\udd57';
  showdown.helper.emojis['grey_exclamation'] = '\u2755';
  showdown.helper.emojis['grey_question'] = '\u2754';
  showdown.helper.emojis['grimacing'] = '\ud83d\ude2c';
  showdown.helper.emojis['grin'] = '\ud83d\ude01';
  showdown.helper.emojis['grinning'] = '\ud83d\ude00';
  showdown.helper.emojis['guardsman'] = '\ud83d\udc82';
  showdown.helper.emojis['guardswoman'] = '\ud83d\udc82&zwj;\u2640\ufe0f';
  showdown.helper.emojis['guitar'] = '\ud83c\udfb8';
  showdown.helper.emojis['gun'] = '\ud83d\udd2b';
  showdown.helper.emojis['haircut_woman'] = '\ud83d\udc87';
  showdown.helper.emojis['haircut_man'] = '\ud83d\udc87&zwj;\u2642\ufe0f';
  showdown.helper.emojis['hamburger'] = '\ud83c\udf54';
  showdown.helper.emojis['hammer'] = '\ud83d\udd28';
  showdown.helper.emojis['hammer_and_pick'] = '\u2692';
  showdown.helper.emojis['hammer_and_wrench'] = '\ud83d\udee0';
  showdown.helper.emojis['hamster'] = '\ud83d\udc39';
  showdown.helper.emojis['hand'] = '\u270b';
  showdown.helper.emojis['handbag'] = '\ud83d\udc5c';
  showdown.helper.emojis['handshake'] = '\ud83e\udd1d';
  showdown.helper.emojis['hankey'] = '\ud83d\udca9';
  showdown.helper.emojis['hatched_chick'] = '\ud83d\udc25';
  showdown.helper.emojis['hatching_chick'] = '\ud83d\udc23';
  showdown.helper.emojis['headphones'] = '\ud83c\udfa7';
  showdown.helper.emojis['hear_no_evil'] = '\ud83d\ude49';
  showdown.helper.emojis['heart'] = '\u2764\ufe0f';
  showdown.helper.emojis['heart_decoration'] = '\ud83d\udc9f';
  showdown.helper.emojis['heart_eyes'] = '\ud83d\ude0d';
  showdown.helper.emojis['heart_eyes_cat'] = '\ud83d\ude3b';
  showdown.helper.emojis['heartbeat'] = '\ud83d\udc93';
  showdown.helper.emojis['heartpulse'] = '\ud83d\udc97';
  showdown.helper.emojis['hearts'] = '\u2665\ufe0f';
  showdown.helper.emojis['heavy_check_mark'] = '\u2714\ufe0f';
  showdown.helper.emojis['heavy_division_sign'] = '\u2797';
  showdown.helper.emojis['heavy_dollar_sign'] = '\ud83d\udcb2';
  showdown.helper.emojis['heavy_heart_exclamation'] = '\u2763\ufe0f';
  showdown.helper.emojis['heavy_minus_sign'] = '\u2796';
  showdown.helper.emojis['heavy_multiplication_x'] = '\u2716\ufe0f';
  showdown.helper.emojis['heavy_plus_sign'] = '\u2795';
  showdown.helper.emojis['helicopter'] = '\ud83d\ude81';
  showdown.helper.emojis['herb'] = '\ud83c\udf3f';
  showdown.helper.emojis['hibiscus'] = '\ud83c\udf3a';
  showdown.helper.emojis['high_brightness'] = '\ud83d\udd06';
  showdown.helper.emojis['high_heel'] = '\ud83d\udc60';
  showdown.helper.emojis['hocho'] = '\ud83d\udd2a';
  showdown.helper.emojis['hole'] = '\ud83d\udd73';
  showdown.helper.emojis['honey_pot'] = '\ud83c\udf6f';
  showdown.helper.emojis['horse'] = '\ud83d\udc34';
  showdown.helper.emojis['horse_racing'] = '\ud83c\udfc7';
  showdown.helper.emojis['hospital'] = '\ud83c\udfe5';
  showdown.helper.emojis['hot_pepper'] = '\ud83c\udf36';
  showdown.helper.emojis['hotdog'] = '\ud83c\udf2d';
  showdown.helper.emojis['hotel'] = '\ud83c\udfe8';
  showdown.helper.emojis['hotsprings'] = '\u2668\ufe0f';
  showdown.helper.emojis['hourglass'] = '\u231b\ufe0f';
  showdown.helper.emojis['hourglass_flowing_sand'] = '\u23f3';
  showdown.helper.emojis['house'] = '\ud83c\udfe0';
  showdown.helper.emojis['house_with_garden'] = '\ud83c\udfe1';
  showdown.helper.emojis['houses'] = '\ud83c\udfd8';
  showdown.helper.emojis['hugs'] = '\ud83e\udd17';
  showdown.helper.emojis['hushed'] = '\ud83d\ude2f';
  showdown.helper.emojis['ice_cream'] = '\ud83c\udf68';
  showdown.helper.emojis['ice_hockey'] = '\ud83c\udfd2';
  showdown.helper.emojis['ice_skate'] = '\u26f8';
  showdown.helper.emojis['icecream'] = '\ud83c\udf66';
  showdown.helper.emojis['id'] = '\ud83c\udd94';
  showdown.helper.emojis['ideograph_advantage'] = '\ud83c\ude50';
  showdown.helper.emojis['imp'] = '\ud83d\udc7f';
  showdown.helper.emojis['inbox_tray'] = '\ud83d\udce5';
  showdown.helper.emojis['incoming_envelope'] = '\ud83d\udce8';
  showdown.helper.emojis['tipping_hand_woman'] = '\ud83d\udc81';
  showdown.helper.emojis['information_source'] = '\u2139\ufe0f';
  showdown.helper.emojis['innocent'] = '\ud83d\ude07';
  showdown.helper.emojis['interrobang'] = '\u2049\ufe0f';
  showdown.helper.emojis['iphone'] = '\ud83d\udcf1';
  showdown.helper.emojis['izakaya_lantern'] = '\ud83c\udfee';
  showdown.helper.emojis['jack_o_lantern'] = '\ud83c\udf83';
  showdown.helper.emojis['japan'] = '\ud83d\uddfe';
  showdown.helper.emojis['japanese_castle'] = '\ud83c\udfef';
  showdown.helper.emojis['japanese_goblin'] = '\ud83d\udc7a';
  showdown.helper.emojis['japanese_ogre'] = '\ud83d\udc79';
  showdown.helper.emojis['jeans'] = '\ud83d\udc56';
  showdown.helper.emojis['joy'] = '\ud83d\ude02';
  showdown.helper.emojis['joy_cat'] = '\ud83d\ude39';
  showdown.helper.emojis['joystick'] = '\ud83d\udd79';
  showdown.helper.emojis['kaaba'] = '\ud83d\udd4b';
  showdown.helper.emojis['key'] = '\ud83d\udd11';
  showdown.helper.emojis['keyboard'] = '\u2328\ufe0f';
  showdown.helper.emojis['keycap_ten'] = '\ud83d\udd1f';
  showdown.helper.emojis['kick_scooter'] = '\ud83d\udef4';
  showdown.helper.emojis['kimono'] = '\ud83d\udc58';
  showdown.helper.emojis['kiss'] = '\ud83d\udc8b';
  showdown.helper.emojis['kissing'] = '\ud83d\ude17';
  showdown.helper.emojis['kissing_cat'] = '\ud83d\ude3d';
  showdown.helper.emojis['kissing_closed_eyes'] = '\ud83d\ude1a';
  showdown.helper.emojis['kissing_heart'] = '\ud83d\ude18';
  showdown.helper.emojis['kissing_smiling_eyes'] = '\ud83d\ude19';
  showdown.helper.emojis['kiwi_fruit'] = '\ud83e\udd5d';
  showdown.helper.emojis['koala'] = '\ud83d\udc28';
  showdown.helper.emojis['koko'] = '\ud83c\ude01';
  showdown.helper.emojis['label'] = '\ud83c\udff7';
  showdown.helper.emojis['large_blue_circle'] = '\ud83d\udd35';
  showdown.helper.emojis['large_blue_diamond'] = '\ud83d\udd37';
  showdown.helper.emojis['large_orange_diamond'] = '\ud83d\udd36';
  showdown.helper.emojis['last_quarter_moon'] = '\ud83c\udf17';
  showdown.helper.emojis['last_quarter_moon_with_face'] = '\ud83c\udf1c';
  showdown.helper.emojis['latin_cross'] = '\u271d\ufe0f';
  showdown.helper.emojis['laughing'] = '\ud83d\ude06';
  showdown.helper.emojis['leaves'] = '\ud83c\udf43';
  showdown.helper.emojis['ledger'] = '\ud83d\udcd2';
  showdown.helper.emojis['left_luggage'] = '\ud83d\udec5';
  showdown.helper.emojis['left_right_arrow'] = '\u2194\ufe0f';
  showdown.helper.emojis['leftwards_arrow_with_hook'] = '\u21a9\ufe0f';
  showdown.helper.emojis['lemon'] = '\ud83c\udf4b';
  showdown.helper.emojis['leo'] = '\u264c\ufe0f';
  showdown.helper.emojis['leopard'] = '\ud83d\udc06';
  showdown.helper.emojis['level_slider'] = '\ud83c\udf9a';
  showdown.helper.emojis['libra'] = '\u264e\ufe0f';
  showdown.helper.emojis['light_rail'] = '\ud83d\ude88';
  showdown.helper.emojis['link'] = '\ud83d\udd17';
  showdown.helper.emojis['lion'] = '\ud83e\udd81';
  showdown.helper.emojis['lips'] = '\ud83d\udc44';
  showdown.helper.emojis['lipstick'] = '\ud83d\udc84';
  showdown.helper.emojis['lizard'] = '\ud83e\udd8e';
  showdown.helper.emojis['lock'] = '\ud83d\udd12';
  showdown.helper.emojis['lock_with_ink_pen'] = '\ud83d\udd0f';
  showdown.helper.emojis['lollipop'] = '\ud83c\udf6d';
  showdown.helper.emojis['loop'] = '\u27bf';
  showdown.helper.emojis['loud_sound'] = '\ud83d\udd0a';
  showdown.helper.emojis['loudspeaker'] = '\ud83d\udce2';
  showdown.helper.emojis['love_hotel'] = '\ud83c\udfe9';
  showdown.helper.emojis['love_letter'] = '\ud83d\udc8c';
  showdown.helper.emojis['low_brightness'] = '\ud83d\udd05';
  showdown.helper.emojis['lying_face'] = '\ud83e\udd25';
  showdown.helper.emojis['m'] = '\u24c2\ufe0f';
  showdown.helper.emojis['mag'] = '\ud83d\udd0d';
  showdown.helper.emojis['mag_right'] = '\ud83d\udd0e';
  showdown.helper.emojis['mahjong'] = '\ud83c\udc04\ufe0f';
  showdown.helper.emojis['mailbox'] = '\ud83d\udceb';
  showdown.helper.emojis['mailbox_closed'] = '\ud83d\udcea';
  showdown.helper.emojis['mailbox_with_mail'] = '\ud83d\udcec';
  showdown.helper.emojis['mailbox_with_no_mail'] = '\ud83d\udced';
  showdown.helper.emojis['man'] = '\ud83d\udc68';
  showdown.helper.emojis['man_artist'] = '\ud83d\udc68&zwj;\ud83c\udfa8';
  showdown.helper.emojis['man_astronaut'] = '\ud83d\udc68&zwj;\ud83d\ude80';
  showdown.helper.emojis['man_cartwheeling'] = '\ud83e\udd38&zwj;\u2642\ufe0f';
  showdown.helper.emojis['man_cook'] = '\ud83d\udc68&zwj;\ud83c\udf73';
  showdown.helper.emojis['man_dancing'] = '\ud83d\udd7a';
  showdown.helper.emojis['man_facepalming'] = '\ud83e\udd26&zwj;\u2642\ufe0f';
  showdown.helper.emojis['man_factory_worker'] = '\ud83d\udc68&zwj;\ud83c\udfed';
  showdown.helper.emojis['man_farmer'] = '\ud83d\udc68&zwj;\ud83c\udf3e';
  showdown.helper.emojis['man_firefighter'] = '\ud83d\udc68&zwj;\ud83d\ude92';
  showdown.helper.emojis['man_health_worker'] = '\ud83d\udc68&zwj;\u2695\ufe0f';
  showdown.helper.emojis['man_in_tuxedo'] = '\ud83e\udd35';
  showdown.helper.emojis['man_judge'] = '\ud83d\udc68&zwj;\u2696\ufe0f';
  showdown.helper.emojis['man_juggling'] = '\ud83e\udd39&zwj;\u2642\ufe0f';
  showdown.helper.emojis['man_mechanic'] = '\ud83d\udc68&zwj;\ud83d\udd27';
  showdown.helper.emojis['man_office_worker'] = '\ud83d\udc68&zwj;\ud83d\udcbc';
  showdown.helper.emojis['man_pilot'] = '\ud83d\udc68&zwj;\u2708\ufe0f';
  showdown.helper.emojis['man_playing_handball'] = '\ud83e\udd3e&zwj;\u2642\ufe0f';
  showdown.helper.emojis['man_playing_water_polo'] = '\ud83e\udd3d&zwj;\u2642\ufe0f';
  showdown.helper.emojis['man_scientist'] = '\ud83d\udc68&zwj;\ud83d\udd2c';
  showdown.helper.emojis['man_shrugging'] = '\ud83e\udd37&zwj;\u2642\ufe0f';
  showdown.helper.emojis['man_singer'] = '\ud83d\udc68&zwj;\ud83c\udfa4';
  showdown.helper.emojis['man_student'] = '\ud83d\udc68&zwj;\ud83c\udf93';
  showdown.helper.emojis['man_teacher'] = '\ud83d\udc68&zwj;\ud83c\udfeb';
  showdown.helper.emojis['man_technologist'] = '\ud83d\udc68&zwj;\ud83d\udcbb';
  showdown.helper.emojis['man_with_gua_pi_mao'] = '\ud83d\udc72';
  showdown.helper.emojis['man_with_turban'] = '\ud83d\udc73';
  showdown.helper.emojis['tangerine'] = '\ud83c\udf4a';
  showdown.helper.emojis['mans_shoe'] = '\ud83d\udc5e';
  showdown.helper.emojis['mantelpiece_clock'] = '\ud83d\udd70';
  showdown.helper.emojis['maple_leaf'] = '\ud83c\udf41';
  showdown.helper.emojis['martial_arts_uniform'] = '\ud83e\udd4b';
  showdown.helper.emojis['mask'] = '\ud83d\ude37';
  showdown.helper.emojis['massage_woman'] = '\ud83d\udc86';
  showdown.helper.emojis['massage_man'] = '\ud83d\udc86&zwj;\u2642\ufe0f';
  showdown.helper.emojis['meat_on_bone'] = '\ud83c\udf56';
  showdown.helper.emojis['medal_military'] = '\ud83c\udf96';
  showdown.helper.emojis['medal_sports'] = '\ud83c\udfc5';
  showdown.helper.emojis['mega'] = '\ud83d\udce3';
  showdown.helper.emojis['melon'] = '\ud83c\udf48';
  showdown.helper.emojis['memo'] = '\ud83d\udcdd';
  showdown.helper.emojis['men_wrestling'] = '\ud83e\udd3c&zwj;\u2642\ufe0f';
  showdown.helper.emojis['menorah'] = '\ud83d\udd4e';
  showdown.helper.emojis['mens'] = '\ud83d\udeb9';
  showdown.helper.emojis['metal'] = '\ud83e\udd18';
  showdown.helper.emojis['metro'] = '\ud83d\ude87';
  showdown.helper.emojis['microphone'] = '\ud83c\udfa4';
  showdown.helper.emojis['microscope'] = '\ud83d\udd2c';
  showdown.helper.emojis['milk_glass'] = '\ud83e\udd5b';
  showdown.helper.emojis['milky_way'] = '\ud83c\udf0c';
  showdown.helper.emojis['minibus'] = '\ud83d\ude90';
  showdown.helper.emojis['minidisc'] = '\ud83d\udcbd';
  showdown.helper.emojis['mobile_phone_off'] = '\ud83d\udcf4';
  showdown.helper.emojis['money_mouth_face'] = '\ud83e\udd11';
  showdown.helper.emojis['money_with_wings'] = '\ud83d\udcb8';
  showdown.helper.emojis['moneybag'] = '\ud83d\udcb0';
  showdown.helper.emojis['monkey'] = '\ud83d\udc12';
  showdown.helper.emojis['monkey_face'] = '\ud83d\udc35';
  showdown.helper.emojis['monorail'] = '\ud83d\ude9d';
  showdown.helper.emojis['moon'] = '\ud83c\udf14';
  showdown.helper.emojis['mortar_board'] = '\ud83c\udf93';
  showdown.helper.emojis['mosque'] = '\ud83d\udd4c';
  showdown.helper.emojis['motor_boat'] = '\ud83d\udee5';
  showdown.helper.emojis['motor_scooter'] = '\ud83d\udef5';
  showdown.helper.emojis['motorcycle'] = '\ud83c\udfcd';
  showdown.helper.emojis['motorway'] = '\ud83d\udee3';
  showdown.helper.emojis['mount_fuji'] = '\ud83d\uddfb';
  showdown.helper.emojis['mountain'] = '\u26f0';
  showdown.helper.emojis['mountain_biking_man'] = '\ud83d\udeb5';
  showdown.helper.emojis['mountain_biking_woman'] = '\ud83d\udeb5&zwj;\u2640\ufe0f';
  showdown.helper.emojis['mountain_cableway'] = '\ud83d\udea0';
  showdown.helper.emojis['mountain_railway'] = '\ud83d\ude9e';
  showdown.helper.emojis['mountain_snow'] = '\ud83c\udfd4';
  showdown.helper.emojis['mouse'] = '\ud83d\udc2d';
  showdown.helper.emojis['mouse2'] = '\ud83d\udc01';
  showdown.helper.emojis['movie_camera'] = '\ud83c\udfa5';
  showdown.helper.emojis['moyai'] = '\ud83d\uddff';
  showdown.helper.emojis['mrs_claus'] = '\ud83e\udd36';
  showdown.helper.emojis['muscle'] = '\ud83d\udcaa';
  showdown.helper.emojis['mushroom'] = '\ud83c\udf44';
  showdown.helper.emojis['musical_keyboard'] = '\ud83c\udfb9';
  showdown.helper.emojis['musical_note'] = '\ud83c\udfb5';
  showdown.helper.emojis['musical_score'] = '\ud83c\udfbc';
  showdown.helper.emojis['mute'] = '\ud83d\udd07';
  showdown.helper.emojis['nail_care'] = '\ud83d\udc85';
  showdown.helper.emojis['name_badge'] = '\ud83d\udcdb';
  showdown.helper.emojis['national_park'] = '\ud83c\udfde';
  showdown.helper.emojis['nauseated_face'] = '\ud83e\udd22';
  showdown.helper.emojis['necktie'] = '\ud83d\udc54';
  showdown.helper.emojis['negative_squared_cross_mark'] = '\u274e';
  showdown.helper.emojis['nerd_face'] = '\ud83e\udd13';
  showdown.helper.emojis['neutral_face'] = '\ud83d\ude10';
  showdown.helper.emojis['new'] = '\ud83c\udd95';
  showdown.helper.emojis['new_moon'] = '\ud83c\udf11';
  showdown.helper.emojis['new_moon_with_face'] = '\ud83c\udf1a';
  showdown.helper.emojis['newspaper'] = '\ud83d\udcf0';
  showdown.helper.emojis['newspaper_roll'] = '\ud83d\uddde';
  showdown.helper.emojis['next_track_button'] = '\u23ed';
  showdown.helper.emojis['ng'] = '\ud83c\udd96';
  showdown.helper.emojis['no_good_man'] = '\ud83d\ude45&zwj;\u2642\ufe0f';
  showdown.helper.emojis['no_good_woman'] = '\ud83d\ude45';
  showdown.helper.emojis['night_with_stars'] = '\ud83c\udf03';
  showdown.helper.emojis['no_bell'] = '\ud83d\udd15';
  showdown.helper.emojis['no_bicycles'] = '\ud83d\udeb3';
  showdown.helper.emojis['no_entry'] = '\u26d4\ufe0f';
  showdown.helper.emojis['no_entry_sign'] = '\ud83d\udeab';
  showdown.helper.emojis['no_mobile_phones'] = '\ud83d\udcf5';
  showdown.helper.emojis['no_mouth'] = '\ud83d\ude36';
  showdown.helper.emojis['no_pedestrians'] = '\ud83d\udeb7';
  showdown.helper.emojis['no_smoking'] = '\ud83d\udead';
  showdown.helper.emojis['non-potable_water'] = '\ud83d\udeb1';
  showdown.helper.emojis['nose'] = '\ud83d\udc43';
  showdown.helper.emojis['notebook'] = '\ud83d\udcd3';
  showdown.helper.emojis['notebook_with_decorative_cover'] = '\ud83d\udcd4';
  showdown.helper.emojis['notes'] = '\ud83c\udfb6';
  showdown.helper.emojis['nut_and_bolt'] = '\ud83d\udd29';
  showdown.helper.emojis['o'] = '\u2b55\ufe0f';
  showdown.helper.emojis['o2'] = '\ud83c\udd7e\ufe0f';
  showdown.helper.emojis['ocean'] = '\ud83c\udf0a';
  showdown.helper.emojis['octopus'] = '\ud83d\udc19';
  showdown.helper.emojis['oden'] = '\ud83c\udf62';
  showdown.helper.emojis['office'] = '\ud83c\udfe2';
  showdown.helper.emojis['oil_drum'] = '\ud83d\udee2';
  showdown.helper.emojis['ok'] = '\ud83c\udd97';
  showdown.helper.emojis['ok_hand'] = '\ud83d\udc4c';
  showdown.helper.emojis['ok_man'] = '\ud83d\ude46&zwj;\u2642\ufe0f';
  showdown.helper.emojis['ok_woman'] = '\ud83d\ude46';
  showdown.helper.emojis['old_key'] = '\ud83d\udddd';
  showdown.helper.emojis['older_man'] = '\ud83d\udc74';
  showdown.helper.emojis['older_woman'] = '\ud83d\udc75';
  showdown.helper.emojis['om'] = '\ud83d\udd49';
  showdown.helper.emojis['on'] = '\ud83d\udd1b';
  showdown.helper.emojis['oncoming_automobile'] = '\ud83d\ude98';
  showdown.helper.emojis['oncoming_bus'] = '\ud83d\ude8d';
  showdown.helper.emojis['oncoming_police_car'] = '\ud83d\ude94';
  showdown.helper.emojis['oncoming_taxi'] = '\ud83d\ude96';
  showdown.helper.emojis['open_file_folder'] = '\ud83d\udcc2';
  showdown.helper.emojis['open_hands'] = '\ud83d\udc50';
  showdown.helper.emojis['open_mouth'] = '\ud83d\ude2e';
  showdown.helper.emojis['open_umbrella'] = '\u2602\ufe0f';
  showdown.helper.emojis['ophiuchus'] = '\u26ce';
  showdown.helper.emojis['orange_book'] = '\ud83d\udcd9';
  showdown.helper.emojis['orthodox_cross'] = '\u2626\ufe0f';
  showdown.helper.emojis['outbox_tray'] = '\ud83d\udce4';
  showdown.helper.emojis['owl'] = '\ud83e\udd89';
  showdown.helper.emojis['ox'] = '\ud83d\udc02';
  showdown.helper.emojis['package'] = '\ud83d\udce6';
  showdown.helper.emojis['page_facing_up'] = '\ud83d\udcc4';
  showdown.helper.emojis['page_with_curl'] = '\ud83d\udcc3';
  showdown.helper.emojis['pager'] = '\ud83d\udcdf';
  showdown.helper.emojis['paintbrush'] = '\ud83d\udd8c';
  showdown.helper.emojis['palm_tree'] = '\ud83c\udf34';
  showdown.helper.emojis['pancakes'] = '\ud83e\udd5e';
  showdown.helper.emojis['panda_face'] = '\ud83d\udc3c';
  showdown.helper.emojis['paperclip'] = '\ud83d\udcce';
  showdown.helper.emojis['paperclips'] = '\ud83d\udd87';
  showdown.helper.emojis['parasol_on_ground'] = '\u26f1';
  showdown.helper.emojis['parking'] = '\ud83c\udd7f\ufe0f';
  showdown.helper.emojis['part_alternation_mark'] = '\u303d\ufe0f';
  showdown.helper.emojis['partly_sunny'] = '\u26c5\ufe0f';
  showdown.helper.emojis['passenger_ship'] = '\ud83d\udef3';
  showdown.helper.emojis['passport_control'] = '\ud83d\udec2';
  showdown.helper.emojis['pause_button'] = '\u23f8';
  showdown.helper.emojis['peace_symbol'] = '\u262e\ufe0f';
  showdown.helper.emojis['peach'] = '\ud83c\udf51';
  showdown.helper.emojis['peanuts'] = '\ud83e\udd5c';
  showdown.helper.emojis['pear'] = '\ud83c\udf50';
  showdown.helper.emojis['pen'] = '\ud83d\udd8a';
  showdown.helper.emojis['pencil2'] = '\u270f\ufe0f';
  showdown.helper.emojis['penguin'] = '\ud83d\udc27';
  showdown.helper.emojis['pensive'] = '\ud83d\ude14';
  showdown.helper.emojis['performing_arts'] = '\ud83c\udfad';
  showdown.helper.emojis['persevere'] = '\ud83d\ude23';
  showdown.helper.emojis['person_fencing'] = '\ud83e\udd3a';
  showdown.helper.emojis['pouting_woman'] = '\ud83d\ude4e';
  showdown.helper.emojis['phone'] = '\u260e\ufe0f';
  showdown.helper.emojis['pick'] = '\u26cf';
  showdown.helper.emojis['pig'] = '\ud83d\udc37';
  showdown.helper.emojis['pig2'] = '\ud83d\udc16';
  showdown.helper.emojis['pig_nose'] = '\ud83d\udc3d';
  showdown.helper.emojis['pill'] = '\ud83d\udc8a';
  showdown.helper.emojis['pineapple'] = '\ud83c\udf4d';
  showdown.helper.emojis['ping_pong'] = '\ud83c\udfd3';
  showdown.helper.emojis['pisces'] = '\u2653\ufe0f';
  showdown.helper.emojis['pizza'] = '\ud83c\udf55';
  showdown.helper.emojis['place_of_worship'] = '\ud83d\uded0';
  showdown.helper.emojis['plate_with_cutlery'] = '\ud83c\udf7d';
  showdown.helper.emojis['play_or_pause_button'] = '\u23ef';
  showdown.helper.emojis['point_down'] = '\ud83d\udc47';
  showdown.helper.emojis['point_left'] = '\ud83d\udc48';
  showdown.helper.emojis['point_right'] = '\ud83d\udc49';
  showdown.helper.emojis['point_up'] = '\u261d\ufe0f';
  showdown.helper.emojis['point_up_2'] = '\ud83d\udc46';
  showdown.helper.emojis['police_car'] = '\ud83d\ude93';
  showdown.helper.emojis['policewoman'] = '\ud83d\udc6e&zwj;\u2640\ufe0f';
  showdown.helper.emojis['poodle'] = '\ud83d\udc29';
  showdown.helper.emojis['popcorn'] = '\ud83c\udf7f';
  showdown.helper.emojis['post_office'] = '\ud83c\udfe3';
  showdown.helper.emojis['postal_horn'] = '\ud83d\udcef';
  showdown.helper.emojis['postbox'] = '\ud83d\udcee';
  showdown.helper.emojis['potable_water'] = '\ud83d\udeb0';
  showdown.helper.emojis['potato'] = '\ud83e\udd54';
  showdown.helper.emojis['pouch'] = '\ud83d\udc5d';
  showdown.helper.emojis['poultry_leg'] = '\ud83c\udf57';
  showdown.helper.emojis['pound'] = '\ud83d\udcb7';
  showdown.helper.emojis['rage'] = '\ud83d\ude21';
  showdown.helper.emojis['pouting_cat'] = '\ud83d\ude3e';
  showdown.helper.emojis['pouting_man'] = '\ud83d\ude4e&zwj;\u2642\ufe0f';
  showdown.helper.emojis['pray'] = '\ud83d\ude4f';
  showdown.helper.emojis['prayer_beads'] = '\ud83d\udcff';
  showdown.helper.emojis['pregnant_woman'] = '\ud83e\udd30';
  showdown.helper.emojis['previous_track_button'] = '\u23ee';
  showdown.helper.emojis['prince'] = '\ud83e\udd34';
  showdown.helper.emojis['princess'] = '\ud83d\udc78';
  showdown.helper.emojis['printer'] = '\ud83d\udda8';
  showdown.helper.emojis['purple_heart'] = '\ud83d\udc9c';
  showdown.helper.emojis['purse'] = '\ud83d\udc5b';
  showdown.helper.emojis['pushpin'] = '\ud83d\udccc';
  showdown.helper.emojis['put_litter_in_its_place'] = '\ud83d\udeae';
  showdown.helper.emojis['question'] = '\u2753';
  showdown.helper.emojis['rabbit'] = '\ud83d\udc30';
  showdown.helper.emojis['rabbit2'] = '\ud83d\udc07';
  showdown.helper.emojis['racehorse'] = '\ud83d\udc0e';
  showdown.helper.emojis['racing_car'] = '\ud83c\udfce';
  showdown.helper.emojis['radio'] = '\ud83d\udcfb';
  showdown.helper.emojis['radio_button'] = '\ud83d\udd18';
  showdown.helper.emojis['radioactive'] = '\u2622\ufe0f';
  showdown.helper.emojis['railway_car'] = '\ud83d\ude83';
  showdown.helper.emojis['railway_track'] = '\ud83d\udee4';
  showdown.helper.emojis['rainbow'] = '\ud83c\udf08';
  showdown.helper.emojis['rainbow_flag'] = '\ud83c\udff3\ufe0f&zwj;\ud83c\udf08';
  showdown.helper.emojis['raised_back_of_hand'] = '\ud83e\udd1a';
  showdown.helper.emojis['raised_hand_with_fingers_splayed'] = '\ud83d\udd90';
  showdown.helper.emojis['raised_hands'] = '\ud83d\ude4c';
  showdown.helper.emojis['raising_hand_woman'] = '\ud83d\ude4b';
  showdown.helper.emojis['raising_hand_man'] = '\ud83d\ude4b&zwj;\u2642\ufe0f';
  showdown.helper.emojis['ram'] = '\ud83d\udc0f';
  showdown.helper.emojis['ramen'] = '\ud83c\udf5c';
  showdown.helper.emojis['rat'] = '\ud83d\udc00';
  showdown.helper.emojis['record_button'] = '\u23fa';
  showdown.helper.emojis['recycle'] = '\u267b\ufe0f';
  showdown.helper.emojis['red_circle'] = '\ud83d\udd34';
  showdown.helper.emojis['registered'] = '\u00ae\ufe0f';
  showdown.helper.emojis['relaxed'] = '\u263a\ufe0f';
  showdown.helper.emojis['relieved'] = '\ud83d\ude0c';
  showdown.helper.emojis['reminder_ribbon'] = '\ud83c\udf97';
  showdown.helper.emojis['repeat'] = '\ud83d\udd01';
  showdown.helper.emojis['repeat_one'] = '\ud83d\udd02';
  showdown.helper.emojis['rescue_worker_helmet'] = '\u26d1';
  showdown.helper.emojis['restroom'] = '\ud83d\udebb';
  showdown.helper.emojis['revolving_hearts'] = '\ud83d\udc9e';
  showdown.helper.emojis['rewind'] = '\u23ea';
  showdown.helper.emojis['rhinoceros'] = '\ud83e\udd8f';
  showdown.helper.emojis['ribbon'] = '\ud83c\udf80';
  showdown.helper.emojis['rice'] = '\ud83c\udf5a';
  showdown.helper.emojis['rice_ball'] = '\ud83c\udf59';
  showdown.helper.emojis['rice_cracker'] = '\ud83c\udf58';
  showdown.helper.emojis['rice_scene'] = '\ud83c\udf91';
  showdown.helper.emojis['right_anger_bubble'] = '\ud83d\uddef';
  showdown.helper.emojis['ring'] = '\ud83d\udc8d';
  showdown.helper.emojis['robot'] = '\ud83e\udd16';
  showdown.helper.emojis['rocket'] = '\ud83d\ude80';
  showdown.helper.emojis['rofl'] = '\ud83e\udd23';
  showdown.helper.emojis['roll_eyes'] = '\ud83d\ude44';
  showdown.helper.emojis['roller_coaster'] = '\ud83c\udfa2';
  showdown.helper.emojis['rooster'] = '\ud83d\udc13';
  showdown.helper.emojis['rose'] = '\ud83c\udf39';
  showdown.helper.emojis['rosette'] = '\ud83c\udff5';
  showdown.helper.emojis['rotating_light'] = '\ud83d\udea8';
  showdown.helper.emojis['round_pushpin'] = '\ud83d\udccd';
  showdown.helper.emojis['rowing_man'] = '\ud83d\udea3';
  showdown.helper.emojis['rowing_woman'] = '\ud83d\udea3&zwj;\u2640\ufe0f';
  showdown.helper.emojis['rugby_football'] = '\ud83c\udfc9';
  showdown.helper.emojis['running_man'] = '\ud83c\udfc3';
  showdown.helper.emojis['running_shirt_with_sash'] = '\ud83c\udfbd';
  showdown.helper.emojis['running_woman'] = '\ud83c\udfc3&zwj;\u2640\ufe0f';
  showdown.helper.emojis['sa'] = '\ud83c\ude02\ufe0f';
  showdown.helper.emojis['sagittarius'] = '\u2650\ufe0f';
  showdown.helper.emojis['sake'] = '\ud83c\udf76';
  showdown.helper.emojis['sandal'] = '\ud83d\udc61';
  showdown.helper.emojis['santa'] = '\ud83c\udf85';
  showdown.helper.emojis['satellite'] = '\ud83d\udce1';
  showdown.helper.emojis['saxophone'] = '\ud83c\udfb7';
  showdown.helper.emojis['school'] = '\ud83c\udfeb';
  showdown.helper.emojis['school_satchel'] = '\ud83c\udf92';
  showdown.helper.emojis['scissors'] = '\u2702\ufe0f';
  showdown.helper.emojis['scorpion'] = '\ud83e\udd82';
  showdown.helper.emojis['scorpius'] = '\u264f\ufe0f';
  showdown.helper.emojis['scream'] = '\ud83d\ude31';
  showdown.helper.emojis['scream_cat'] = '\ud83d\ude40';
  showdown.helper.emojis['scroll'] = '\ud83d\udcdc';
  showdown.helper.emojis['seat'] = '\ud83d\udcba';
  showdown.helper.emojis['secret'] = '\u3299\ufe0f';
  showdown.helper.emojis['see_no_evil'] = '\ud83d\ude48';
  showdown.helper.emojis['seedling'] = '\ud83c\udf31';
  showdown.helper.emojis['selfie'] = '\ud83e\udd33';
  showdown.helper.emojis['shallow_pan_of_food'] = '\ud83e\udd58';
  showdown.helper.emojis['shamrock'] = '\u2618\ufe0f';
  showdown.helper.emojis['shark'] = '\ud83e\udd88';
  showdown.helper.emojis['shaved_ice'] = '\ud83c\udf67';
  showdown.helper.emojis['sheep'] = '\ud83d\udc11';
  showdown.helper.emojis['shell'] = '\ud83d\udc1a';
  showdown.helper.emojis['shield'] = '\ud83d\udee1';
  showdown.helper.emojis['shinto_shrine'] = '\u26e9';
  showdown.helper.emojis['ship'] = '\ud83d\udea2';
  showdown.helper.emojis['shirt'] = '\ud83d\udc55';
  showdown.helper.emojis['shopping'] = '\ud83d\udecd';
  showdown.helper.emojis['shopping_cart'] = '\ud83d\uded2';
  showdown.helper.emojis['shower'] = '\ud83d\udebf';
  showdown.helper.emojis['shrimp'] = '\ud83e\udd90';
  showdown.helper.emojis['signal_strength'] = '\ud83d\udcf6';
  showdown.helper.emojis['six_pointed_star'] = '\ud83d\udd2f';
  showdown.helper.emojis['ski'] = '\ud83c\udfbf';
  showdown.helper.emojis['skier'] = '\u26f7';
  showdown.helper.emojis['skull'] = '\ud83d\udc80';
  showdown.helper.emojis['skull_and_crossbones'] = '\u2620\ufe0f';
  showdown.helper.emojis['sleeping'] = '\ud83d\ude34';
  showdown.helper.emojis['sleeping_bed'] = '\ud83d\udecc';
  showdown.helper.emojis['sleepy'] = '\ud83d\ude2a';
  showdown.helper.emojis['slightly_frowning_face'] = '\ud83d\ude41';
  showdown.helper.emojis['slightly_smiling_face'] = '\ud83d\ude42';
  showdown.helper.emojis['slot_machine'] = '\ud83c\udfb0';
  showdown.helper.emojis['small_airplane'] = '\ud83d\udee9';
  showdown.helper.emojis['small_blue_diamond'] = '\ud83d\udd39';
  showdown.helper.emojis['small_orange_diamond'] = '\ud83d\udd38';
  showdown.helper.emojis['small_red_triangle'] = '\ud83d\udd3a';
  showdown.helper.emojis['small_red_triangle_down'] = '\ud83d\udd3b';
  showdown.helper.emojis['smile'] = '\ud83d\ude04';
  showdown.helper.emojis['smile_cat'] = '\ud83d\ude38';
  showdown.helper.emojis['smiley'] = '\ud83d\ude03';
  showdown.helper.emojis['smiley_cat'] = '\ud83d\ude3a';
  showdown.helper.emojis['smiling_imp'] = '\ud83d\ude08';
  showdown.helper.emojis['smirk'] = '\ud83d\ude0f';
  showdown.helper.emojis['smirk_cat'] = '\ud83d\ude3c';
  showdown.helper.emojis['smoking'] = '\ud83d\udeac';
  showdown.helper.emojis['snail'] = '\ud83d\udc0c';
  showdown.helper.emojis['snake'] = '\ud83d\udc0d';
  showdown.helper.emojis['sneezing_face'] = '\ud83e\udd27';
  showdown.helper.emojis['snowboarder'] = '\ud83c\udfc2';
  showdown.helper.emojis['snowflake'] = '\u2744\ufe0f';
  showdown.helper.emojis['snowman'] = '\u26c4\ufe0f';
  showdown.helper.emojis['snowman_with_snow'] = '\u2603\ufe0f';
  showdown.helper.emojis['sob'] = '\ud83d\ude2d';
  showdown.helper.emojis['soccer'] = '\u26bd\ufe0f';
  showdown.helper.emojis['soon'] = '\ud83d\udd1c';
  showdown.helper.emojis['sos'] = '\ud83c\udd98';
  showdown.helper.emojis['sound'] = '\ud83d\udd09';
  showdown.helper.emojis['space_invader'] = '\ud83d\udc7e';
  showdown.helper.emojis['spades'] = '\u2660\ufe0f';
  showdown.helper.emojis['spaghetti'] = '\ud83c\udf5d';
  showdown.helper.emojis['sparkle'] = '\u2747\ufe0f';
  showdown.helper.emojis['sparkler'] = '\ud83c\udf87';
  showdown.helper.emojis['sparkles'] = '\u2728';
  showdown.helper.emojis['sparkling_heart'] = '\ud83d\udc96';
  showdown.helper.emojis['speak_no_evil'] = '\ud83d\ude4a';
  showdown.helper.emojis['speaker'] = '\ud83d\udd08';
  showdown.helper.emojis['speaking_head'] = '\ud83d\udde3';
  showdown.helper.emojis['speech_balloon'] = '\ud83d\udcac';
  showdown.helper.emojis['speedboat'] = '\ud83d\udea4';
  showdown.helper.emojis['spider'] = '\ud83d\udd77';
  showdown.helper.emojis['spider_web'] = '\ud83d\udd78';
  showdown.helper.emojis['spiral_calendar'] = '\ud83d\uddd3';
  showdown.helper.emojis['spiral_notepad'] = '\ud83d\uddd2';
  showdown.helper.emojis['spoon'] = '\ud83e\udd44';
  showdown.helper.emojis['squid'] = '\ud83e\udd91';
  showdown.helper.emojis['stadium'] = '\ud83c\udfdf';
  showdown.helper.emojis['star'] = '\u2b50\ufe0f';
  showdown.helper.emojis['star2'] = '\ud83c\udf1f';
  showdown.helper.emojis['star_and_crescent'] = '\u262a\ufe0f';
  showdown.helper.emojis['star_of_david'] = '\u2721\ufe0f';
  showdown.helper.emojis['stars'] = '\ud83c\udf20';
  showdown.helper.emojis['station'] = '\ud83d\ude89';
  showdown.helper.emojis['statue_of_liberty'] = '\ud83d\uddfd';
  showdown.helper.emojis['steam_locomotive'] = '\ud83d\ude82';
  showdown.helper.emojis['stew'] = '\ud83c\udf72';
  showdown.helper.emojis['stop_button'] = '\u23f9';
  showdown.helper.emojis['stop_sign'] = '\ud83d\uded1';
  showdown.helper.emojis['stopwatch'] = '\u23f1';
  showdown.helper.emojis['straight_ruler'] = '\ud83d\udccf';
  showdown.helper.emojis['strawberry'] = '\ud83c\udf53';
  showdown.helper.emojis['stuck_out_tongue'] = '\ud83d\ude1b';
  showdown.helper.emojis['stuck_out_tongue_closed_eyes'] = '\ud83d\ude1d';
  showdown.helper.emojis['stuck_out_tongue_winking_eye'] = '\ud83d\ude1c';
  showdown.helper.emojis['studio_microphone'] = '\ud83c\udf99';
  showdown.helper.emojis['stuffed_flatbread'] = '\ud83e\udd59';
  showdown.helper.emojis['sun_behind_large_cloud'] = '\ud83c\udf25';
  showdown.helper.emojis['sun_behind_rain_cloud'] = '\ud83c\udf26';
  showdown.helper.emojis['sun_behind_small_cloud'] = '\ud83c\udf24';
  showdown.helper.emojis['sun_with_face'] = '\ud83c\udf1e';
  showdown.helper.emojis['sunflower'] = '\ud83c\udf3b';
  showdown.helper.emojis['sunglasses'] = '\ud83d\ude0e';
  showdown.helper.emojis['sunny'] = '\u2600\ufe0f';
  showdown.helper.emojis['sunrise'] = '\ud83c\udf05';
  showdown.helper.emojis['sunrise_over_mountains'] = '\ud83c\udf04';
  showdown.helper.emojis['surfing_man'] = '\ud83c\udfc4';
  showdown.helper.emojis['surfing_woman'] = '\ud83c\udfc4&zwj;\u2640\ufe0f';
  showdown.helper.emojis['sushi'] = '\ud83c\udf63';
  showdown.helper.emojis['suspension_railway'] = '\ud83d\ude9f';
  showdown.helper.emojis['sweat'] = '\ud83d\ude13';
  showdown.helper.emojis['sweat_drops'] = '\ud83d\udca6';
  showdown.helper.emojis['sweat_smile'] = '\ud83d\ude05';
  showdown.helper.emojis['sweet_potato'] = '\ud83c\udf60';
  showdown.helper.emojis['swimming_man'] = '\ud83c\udfca';
  showdown.helper.emojis['swimming_woman'] = '\ud83c\udfca&zwj;\u2640\ufe0f';
  showdown.helper.emojis['symbols'] = '\ud83d\udd23';
  showdown.helper.emojis['synagogue'] = '\ud83d\udd4d';
  showdown.helper.emojis['syringe'] = '\ud83d\udc89';
  showdown.helper.emojis['taco'] = '\ud83c\udf2e';
  showdown.helper.emojis['tada'] = '\ud83c\udf89';
  showdown.helper.emojis['tanabata_tree'] = '\ud83c\udf8b';
  showdown.helper.emojis['taurus'] = '\u2649\ufe0f';
  showdown.helper.emojis['taxi'] = '\ud83d\ude95';
  showdown.helper.emojis['tea'] = '\ud83c\udf75';
  showdown.helper.emojis['telephone_receiver'] = '\ud83d\udcde';
  showdown.helper.emojis['telescope'] = '\ud83d\udd2d';
  showdown.helper.emojis['tennis'] = '\ud83c\udfbe';
  showdown.helper.emojis['tent'] = '\u26fa\ufe0f';
  showdown.helper.emojis['thermometer'] = '\ud83c\udf21';
  showdown.helper.emojis['thinking'] = '\ud83e\udd14';
  showdown.helper.emojis['thought_balloon'] = '\ud83d\udcad';
  showdown.helper.emojis['ticket'] = '\ud83c\udfab';
  showdown.helper.emojis['tickets'] = '\ud83c\udf9f';
  showdown.helper.emojis['tiger'] = '\ud83d\udc2f';
  showdown.helper.emojis['tiger2'] = '\ud83d\udc05';
  showdown.helper.emojis['timer_clock'] = '\u23f2';
  showdown.helper.emojis['tipping_hand_man'] = '\ud83d\udc81&zwj;\u2642\ufe0f';
  showdown.helper.emojis['tired_face'] = '\ud83d\ude2b';
  showdown.helper.emojis['tm'] = '\u2122\ufe0f';
  showdown.helper.emojis['toilet'] = '\ud83d\udebd';
  showdown.helper.emojis['tokyo_tower'] = '\ud83d\uddfc';
  showdown.helper.emojis['tomato'] = '\ud83c\udf45';
  showdown.helper.emojis['tongue'] = '\ud83d\udc45';
  showdown.helper.emojis['top'] = '\ud83d\udd1d';
  showdown.helper.emojis['tophat'] = '\ud83c\udfa9';
  showdown.helper.emojis['tornado'] = '\ud83c\udf2a';
  showdown.helper.emojis['trackball'] = '\ud83d\uddb2';
  showdown.helper.emojis['tractor'] = '\ud83d\ude9c';
  showdown.helper.emojis['traffic_light'] = '\ud83d\udea5';
  showdown.helper.emojis['train'] = '\ud83d\ude8b';
  showdown.helper.emojis['train2'] = '\ud83d\ude86';
  showdown.helper.emojis['tram'] = '\ud83d\ude8a';
  showdown.helper.emojis['triangular_flag_on_post'] = '\ud83d\udea9';
  showdown.helper.emojis['triangular_ruler'] = '\ud83d\udcd0';
  showdown.helper.emojis['trident'] = '\ud83d\udd31';
  showdown.helper.emojis['triumph'] = '\ud83d\ude24';
  showdown.helper.emojis['trolleybus'] = '\ud83d\ude8e';
  showdown.helper.emojis['trophy'] = '\ud83c\udfc6';
  showdown.helper.emojis['tropical_drink'] = '\ud83c\udf79';
  showdown.helper.emojis['tropical_fish'] = '\ud83d\udc20';
  showdown.helper.emojis['truck'] = '\ud83d\ude9a';
  showdown.helper.emojis['trumpet'] = '\ud83c\udfba';
  showdown.helper.emojis['tulip'] = '\ud83c\udf37';
  showdown.helper.emojis['tumbler_glass'] = '\ud83e\udd43';
  showdown.helper.emojis['turkey'] = '\ud83e\udd83';
  showdown.helper.emojis['turtle'] = '\ud83d\udc22';
  showdown.helper.emojis['tv'] = '\ud83d\udcfa';
  showdown.helper.emojis['twisted_rightwards_arrows'] = '\ud83d\udd00';
  showdown.helper.emojis['two_hearts'] = '\ud83d\udc95';
  showdown.helper.emojis['two_men_holding_hands'] = '\ud83d\udc6c';
  showdown.helper.emojis['two_women_holding_hands'] = '\ud83d\udc6d';
  showdown.helper.emojis['u5272'] = '\ud83c\ude39';
  showdown.helper.emojis['u5408'] = '\ud83c\ude34';
  showdown.helper.emojis['u55b6'] = '\ud83c\ude3a';
  showdown.helper.emojis['u6307'] = '\ud83c\ude2f\ufe0f';
  showdown.helper.emojis['u6708'] = '\ud83c\ude37\ufe0f';
  showdown.helper.emojis['u6709'] = '\ud83c\ude36';
  showdown.helper.emojis['u6e80'] = '\ud83c\ude35';
  showdown.helper.emojis['u7121'] = '\ud83c\ude1a\ufe0f';
  showdown.helper.emojis['u7533'] = '\ud83c\ude38';
  showdown.helper.emojis['u7981'] = '\ud83c\ude32';
  showdown.helper.emojis['u7a7a'] = '\ud83c\ude33';
  showdown.helper.emojis['umbrella'] = '\u2614\ufe0f';
  showdown.helper.emojis['unamused'] = '\ud83d\ude12';
  showdown.helper.emojis['underage'] = '\ud83d\udd1e';
  showdown.helper.emojis['unicorn'] = '\ud83e\udd84';
  showdown.helper.emojis['unlock'] = '\ud83d\udd13';
  showdown.helper.emojis['up'] = '\ud83c\udd99';
  showdown.helper.emojis['upside_down_face'] = '\ud83d\ude43';
  showdown.helper.emojis['v'] = '\u270c\ufe0f';
  showdown.helper.emojis['vertical_traffic_light'] = '\ud83d\udea6';
  showdown.helper.emojis['vhs'] = '\ud83d\udcfc';
  showdown.helper.emojis['vibration_mode'] = '\ud83d\udcf3';
  showdown.helper.emojis['video_camera'] = '\ud83d\udcf9';
  showdown.helper.emojis['video_game'] = '\ud83c\udfae';
  showdown.helper.emojis['violin'] = '\ud83c\udfbb';
  showdown.helper.emojis['virgo'] = '\u264d\ufe0f';
  showdown.helper.emojis['volcano'] = '\ud83c\udf0b';
  showdown.helper.emojis['volleyball'] = '\ud83c\udfd0';
  showdown.helper.emojis['vs'] = '\ud83c\udd9a';
  showdown.helper.emojis['vulcan_salute'] = '\ud83d\udd96';
  showdown.helper.emojis['walking_man'] = '\ud83d\udeb6';
  showdown.helper.emojis['walking_woman'] = '\ud83d\udeb6&zwj;\u2640\ufe0f';
  showdown.helper.emojis['waning_crescent_moon'] = '\ud83c\udf18';
  showdown.helper.emojis['waning_gibbous_moon'] = '\ud83c\udf16';
  showdown.helper.emojis['warning'] = '\u26a0\ufe0f';
  showdown.helper.emojis['wastebasket'] = '\ud83d\uddd1';
  showdown.helper.emojis['watch'] = '\u231a\ufe0f';
  showdown.helper.emojis['water_buffalo'] = '\ud83d\udc03';
  showdown.helper.emojis['watermelon'] = '\ud83c\udf49';
  showdown.helper.emojis['wave'] = '\ud83d\udc4b';
  showdown.helper.emojis['wavy_dash'] = '\u3030\ufe0f';
  showdown.helper.emojis['waxing_crescent_moon'] = '\ud83c\udf12';
  showdown.helper.emojis['wc'] = '\ud83d\udebe';
  showdown.helper.emojis['weary'] = '\ud83d\ude29';
  showdown.helper.emojis['wedding'] = '\ud83d\udc92';
  showdown.helper.emojis['weight_lifting_man'] = '\ud83c\udfcb\ufe0f';
  showdown.helper.emojis['weight_lifting_woman'] = '\ud83c\udfcb\ufe0f&zwj;\u2640\ufe0f';
  showdown.helper.emojis['whale'] = '\ud83d\udc33';
  showdown.helper.emojis['whale2'] = '\ud83d\udc0b';
  showdown.helper.emojis['wheel_of_dharma'] = '\u2638\ufe0f';
  showdown.helper.emojis['wheelchair'] = '\u267f\ufe0f';
  showdown.helper.emojis['white_check_mark'] = '\u2705';
  showdown.helper.emojis['white_circle'] = '\u26aa\ufe0f';
  showdown.helper.emojis['white_flag'] = '\ud83c\udff3\ufe0f';
  showdown.helper.emojis['white_flower'] = '\ud83d\udcae';
  showdown.helper.emojis['white_large_square'] = '\u2b1c\ufe0f';
  showdown.helper.emojis['white_medium_small_square'] = '\u25fd\ufe0f';
  showdown.helper.emojis['white_medium_square'] = '\u25fb\ufe0f';
  showdown.helper.emojis['white_small_square'] = '\u25ab\ufe0f';
  showdown.helper.emojis['white_square_button'] = '\ud83d\udd33';
  showdown.helper.emojis['wilted_flower'] = '\ud83e\udd40';
  showdown.helper.emojis['wind_chime'] = '\ud83c\udf90';
  showdown.helper.emojis['wind_face'] = '\ud83c\udf2c';
  showdown.helper.emojis['wine_glass'] = '\ud83c\udf77';
  showdown.helper.emojis['wink'] = '\ud83d\ude09';
  showdown.helper.emojis['wolf'] = '\ud83d\udc3a';
  showdown.helper.emojis['woman'] = '\ud83d\udc69';
  showdown.helper.emojis['woman_artist'] = '\ud83d\udc69&zwj;\ud83c\udfa8';
  showdown.helper.emojis['woman_astronaut'] = '\ud83d\udc69&zwj;\ud83d\ude80';
  showdown.helper.emojis['woman_cartwheeling'] = '\ud83e\udd38&zwj;\u2640\ufe0f';
  showdown.helper.emojis['woman_cook'] = '\ud83d\udc69&zwj;\ud83c\udf73';
  showdown.helper.emojis['woman_facepalming'] = '\ud83e\udd26&zwj;\u2640\ufe0f';
  showdown.helper.emojis['woman_factory_worker'] = '\ud83d\udc69&zwj;\ud83c\udfed';
  showdown.helper.emojis['woman_farmer'] = '\ud83d\udc69&zwj;\ud83c\udf3e';
  showdown.helper.emojis['woman_firefighter'] = '\ud83d\udc69&zwj;\ud83d\ude92';
  showdown.helper.emojis['woman_health_worker'] = '\ud83d\udc69&zwj;\u2695\ufe0f';
  showdown.helper.emojis['woman_judge'] = '\ud83d\udc69&zwj;\u2696\ufe0f';
  showdown.helper.emojis['woman_juggling'] = '\ud83e\udd39&zwj;\u2640\ufe0f';
  showdown.helper.emojis['woman_mechanic'] = '\ud83d\udc69&zwj;\ud83d\udd27';
  showdown.helper.emojis['woman_office_worker'] = '\ud83d\udc69&zwj;\ud83d\udcbc';
  showdown.helper.emojis['woman_pilot'] = '\ud83d\udc69&zwj;\u2708\ufe0f';
  showdown.helper.emojis['woman_playing_handball'] = '\ud83e\udd3e&zwj;\u2640\ufe0f';
  showdown.helper.emojis['woman_playing_water_polo'] = '\ud83e\udd3d&zwj;\u2640\ufe0f';
  showdown.helper.emojis['woman_scientist'] = '\ud83d\udc69&zwj;\ud83d\udd2c';
  showdown.helper.emojis['woman_shrugging'] = '\ud83e\udd37&zwj;\u2640\ufe0f';
  showdown.helper.emojis['woman_singer'] = '\ud83d\udc69&zwj;\ud83c\udfa4';
  showdown.helper.emojis['woman_student'] = '\ud83d\udc69&zwj;\ud83c\udf93';
  showdown.helper.emojis['woman_teacher'] = '\ud83d\udc69&zwj;\ud83c\udfeb';
  showdown.helper.emojis['woman_technologist'] = '\ud83d\udc69&zwj;\ud83d\udcbb';
  showdown.helper.emojis['woman_with_turban'] = '\ud83d\udc73&zwj;\u2640\ufe0f';
  showdown.helper.emojis['womans_clothes'] = '\ud83d\udc5a';
  showdown.helper.emojis['womans_hat'] = '\ud83d\udc52';
  showdown.helper.emojis['women_wrestling'] = '\ud83e\udd3c&zwj;\u2640\ufe0f';
  showdown.helper.emojis['womens'] = '\ud83d\udeba';
  showdown.helper.emojis['world_map'] = '\ud83d\uddfa';
  showdown.helper.emojis['worried'] = '\ud83d\ude1f';
  showdown.helper.emojis['wrench'] = '\ud83d\udd27';
  showdown.helper.emojis['writing_hand'] = '\u270d\ufe0f';
  showdown.helper.emojis['x'] = '\u274c';
  showdown.helper.emojis['yellow_heart'] = '\ud83d\udc9b';
  showdown.helper.emojis['yen'] = '\ud83d\udcb4';
  showdown.helper.emojis['yin_yang'] = '\u262f\ufe0f';
  showdown.helper.emojis['yum'] = '\ud83d\ude0b';
  showdown.helper.emojis['zap'] = '\u26a1\ufe0f';
  showdown.helper.emojis['zipper_mouth_face'] = '\ud83e\udd10';
  showdown.helper.emojis['zzz'] = '\ud83d\udca4';

  /* special emojis :P */
  showdown.helper.emojis['octocat'] = '<img width="20" height="20" align="absmiddle" src="data:image/png;base64,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">';
  showdown.helper.emojis['showdown'] = '<img width="20" height="20" align="absmiddle" src="data:image/png;base64,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/GMzLdsAAECtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzA2NyA3OS4xNTc3NDcsIDIwMTUvMDMvMzAtMjM6NDA6NDIgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTctMTAtMjRUMTM6MzE6MzArMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8cGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgICAgIDxyZGY6QmFnPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+UyAtPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5TIC08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6N2NkMzQxNzctOWYyZi0yNDRiLWEyYjQtMzU1MzJkY2Y1MWJiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6M2E1YzgxYmYtYjhiNy0xMWU3LTk0NDktYTQ2MzdlZjJkNjMzPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTEwLTI0VDEzOjMxOjMwKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjdjZDM0MTc3LTlmMmYtMjQ0Yi1hMmI0LTM1NTMyZGNmNTFiYjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjYwQzVBRTY1RjY5Q0U0MTE5NDVBODU1RTNCQ0E3RUVCPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pse7bzcAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA1JJREFUeNrsm1+OmlAUhz+aeS9dwZggJn1AnRUMO6jpBgZXULuC2hWUWUGZBTSxKyiuoA4mfUBMnB04K5g+9DihRBHlyh/lJLwIXLgf99xzzu9etZeXFy7Z3nDh1gBoAFy4XeVtQNO0zNcapmUDfUBPnFoBfhQGq6IBaHmjwD4Ahmk5wAD4kKG5J8CNwsAFaHe6DvA9cc0wCgOv8gDka3vA9RHNPgo0D7hNnJtGYWBXxgV2dH4MfMnRRA+Y1WIO2NJ5F/ikoKm3tYsChmkNFHW+fmHQMC1dfHaXPQP3wM1yMdc2B/AOGALTWobBmI1Shu0UGCwX83XyRBQGawHntTtdG5gUNfxVu4CTNqNv6/wWGL7kCc+1AmCYVisl3I2ydD4GYZUCs7IjoLXrxHIx9w9tLAqDCfBwDrXAY457x+cAoCfuwRGjYFUnAGk+PsjR7s8Dn1VeLWCYVlpDw+VivjVHSHt+u9PVJbzGzZXQWTkAkz0V31fATUaEsjVJlQBs4FeGcteLgzgbAALBA+4y3voAeJL8nA0AHfClnM1qm1HhnYUidCSE+KzvSSJUTwAxCOMcpfETMFYpfRUKIAbCFhC3OTJJJwqDWS0BxED0JZ4Pjix1P2+E0loCSMBwyK4S/xc1ojBwag8gMU84cvTKGgmlAYhngu1O9xAXuVE5J1QCQCz3bwHuHvdQui5QKQAxEO6eEKpsFCgTRSXkvdoxSlBMCxhJJbgrrbZRtHCiShN0pRB6PeQ3ckBw2K0oKXMBVYJIP+Nvh9qulFivGoBt1lLQxowT2ykBXCfnhZIglgYACWmqXQv+baioBYCeiCQHm+QEg1O7RhF7hO4OhSAhcJKSFU7qBGADwZeqMMuXn6TUBw8qlaMrirNb4LdhWlP+SWD+cjFfxTpuS2GUpik+o3jFSEkqbJiWn0P0OMSGqlWiOu0TvD+FRHZKAE+oW+cfRmEwqlsesJJEJs8y91QqP+9UL6lqEtz2gpuNEY5sm9sIHln2DRa2aFKGJtiXkZEMiWtgVvRKUSUFkSKt2S7fAGgAXLYpmQQXf36MUChTZdUa2u8/rkvPA6Tz30r4eH3ybcBS5gJ6SaNXb+aABkA1AMxKenclBZLW/He4cYEGwEXb3wEASelexk6LIIIAAAAASUVORK5CYII=">';


/**
 * Created by Estevao on 31-05-2015.
 */

/**
 * Showdown Converter class
 * @class
 * @param {object} [converterOptions]
 * @returns {Converter}
 */
showdown.Converter = function (converterOptions) {
  'use strict';

  var
      /**
       * Options used by this converter
       * @private
       * @type {{}}
       */
      options = {},

      /**
       * Language extensions used by this converter
       * @private
       * @type {Array}
       */
      langExtensions = [],

      /**
       * Output modifiers extensions used by this converter
       * @private
       * @type {Array}
       */
      outputModifiers = [],

      /**
       * Event listeners
       * @private
       * @type {{}}
       */
      listeners = {},

      /**
       * The flavor set in this converter
       */
      setConvFlavor = setFlavor,

    /**
     * Metadata of the document
     * @type {{parsed: {}, raw: string, format: string}}
     */
      metadata = {
        parsed: {},
        raw: '',
        format: ''
      };

  _constructor();

  /**
   * Converter constructor
   * @private
   */
  function _constructor () {
    converterOptions = converterOptions || {};

    for (var gOpt in globalOptions) {
      if (globalOptions.hasOwnProperty(gOpt)) {
        options[gOpt] = globalOptions[gOpt];
      }
    }

    // Merge options
    if (typeof converterOptions === 'object') {
      for (var opt in converterOptions) {
        if (converterOptions.hasOwnProperty(opt)) {
          options[opt] = converterOptions[opt];
        }
      }
    } else {
      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +
      ' was passed instead.');
    }

    if (options.extensions) {
      showdown.helper.forEach(options.extensions, _parseExtension);
    }
  }

  /**
   * Parse extension
   * @param {*} ext
   * @param {string} [name='']
   * @private
   */
  function _parseExtension (ext, name) {

    name = name || null;
    // If it's a string, the extension was previously loaded
    if (showdown.helper.isString(ext)) {
      ext = showdown.helper.stdExtName(ext);
      name = ext;

      // LEGACY_SUPPORT CODE
      if (showdown.extensions[ext]) {
        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +
          'Please inform the developer that the extension should be updated!');
        legacyExtensionLoading(showdown.extensions[ext], ext);
        return;
      // END LEGACY SUPPORT CODE

      } else if (!showdown.helper.isUndefined(extensions[ext])) {
        ext = extensions[ext];

      } else {
        throw Error('Extension "' + ext + '" could not be loaded. It was either not found or is not a valid extension.');
      }
    }

    if (typeof ext === 'function') {
      ext = ext();
    }

    if (!showdown.helper.isArray(ext)) {
      ext = [ext];
    }

    var validExt = validate(ext, name);
    if (!validExt.valid) {
      throw Error(validExt.error);
    }

    for (var i = 0; i < ext.length; ++i) {
      switch (ext[i].type) {

        case 'lang':
          langExtensions.push(ext[i]);
          break;

        case 'output':
          outputModifiers.push(ext[i]);
          break;
      }
      if (ext[i].hasOwnProperty('listeners')) {
        for (var ln in ext[i].listeners) {
          if (ext[i].listeners.hasOwnProperty(ln)) {
            listen(ln, ext[i].listeners[ln]);
          }
        }
      }
    }

  }

  /**
   * LEGACY_SUPPORT
   * @param {*} ext
   * @param {string} name
   */
  function legacyExtensionLoading (ext, name) {
    if (typeof ext === 'function') {
      ext = ext(new showdown.Converter());
    }
    if (!showdown.helper.isArray(ext)) {
      ext = [ext];
    }
    var valid = validate(ext, name);

    if (!valid.valid) {
      throw Error(valid.error);
    }

    for (var i = 0; i < ext.length; ++i) {
      switch (ext[i].type) {
        case 'lang':
          langExtensions.push(ext[i]);
          break;
        case 'output':
          outputModifiers.push(ext[i]);
          break;
        default:// should never reach here
          throw Error('Extension loader error: Type unrecognized!!!');
      }
    }
  }

  /**
   * Listen to an event
   * @param {string} name
   * @param {function} callback
   */
  function listen (name, callback) {
    if (!showdown.helper.isString(name)) {
      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');
    }

    if (typeof callback !== 'function') {
      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');
    }

    if (!listeners.hasOwnProperty(name)) {
      listeners[name] = [];
    }
    listeners[name].push(callback);
  }

  function rTrimInputText (text) {
    var rsp = text.match(/^\s*/)[0].length,
        rgx = new RegExp('^\\s{0,' + rsp + '}', 'gm');
    return text.replace(rgx, '');
  }

  /**
   * Dispatch an event
   * @private
   * @param {string} evtName Event name
   * @param {string} text Text
   * @param {{}} options Converter Options
   * @param {{}} globals
   * @returns {string}
   */
  this._dispatch = function dispatch (evtName, text, options, globals) {
    if (listeners.hasOwnProperty(evtName)) {
      for (var ei = 0; ei < listeners[evtName].length; ++ei) {
        var nText = listeners[evtName][ei](evtName, text, this, options, globals);
        if (nText && typeof nText !== 'undefined') {
          text = nText;
        }
      }
    }
    return text;
  };

  /**
   * Listen to an event
   * @param {string} name
   * @param {function} callback
   * @returns {showdown.Converter}
   */
  this.listen = function (name, callback) {
    listen(name, callback);
    return this;
  };

  /**
   * Converts a markdown string into HTML
   * @param {string} text
   * @returns {*}
   */
  this.makeHtml = function (text) {
    //check if text is not falsy
    if (!text) {
      return text;
    }

    var globals = {
      gHtmlBlocks:     [],
      gHtmlMdBlocks:   [],
      gHtmlSpans:      [],
      gUrls:           {},
      gTitles:         {},
      gDimensions:     {},
      gListLevel:      0,
      hashLinkCounts:  {},
      langExtensions:  langExtensions,
      outputModifiers: outputModifiers,
      converter:       this,
      ghCodeBlocks:    [],
      metadata: {
        parsed: {},
        raw: '',
        format: ''
      }
    };

    // This lets us use ¨ trema as an escape char to avoid md5 hashes
    // The choice of character is arbitrary; anything that isn't
    // magic in Markdown will work.
    text = text.replace(/¨/g, '¨T');

    // Replace $ with ¨D
    // RegExp interprets $ as a special character
    // when it's in a replacement string
    text = text.replace(/\$/g, '¨D');

    // Standardize line endings
    text = text.replace(/\r\n/g, '\n'); // DOS to Unix
    text = text.replace(/\r/g, '\n'); // Mac to Unix

    // Stardardize line spaces (nbsp causes trouble in older browsers and some regex flavors)
    text = text.replace(/\u00A0/g, ' ');

    if (options.smartIndentationFix) {
      text = rTrimInputText(text);
    }

    // Make sure text begins and ends with a couple of newlines:
    text = '\n\n' + text + '\n\n';

    // detab
    text = showdown.subParser('detab')(text, options, globals);

    /**
     * Strip any lines consisting only of spaces and tabs.
     * This makes subsequent regexs easier to write, because we can
     * match consecutive blank lines with /\n+/ instead of something
     * contorted like /[ \t]*\n+/
     */
    text = text.replace(/^[ \t]+$/mg, '');

    //run languageExtensions
    showdown.helper.forEach(langExtensions, function (ext) {
      text = showdown.subParser('runExtension')(ext, text, options, globals);
    });

    // run the sub parsers
    text = showdown.subParser('metadata')(text, options, globals);
    text = showdown.subParser('hashPreCodeTags')(text, options, globals);
    text = showdown.subParser('githubCodeBlocks')(text, options, globals);
    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);
    text = showdown.subParser('hashCodeTags')(text, options, globals);
    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);
    text = showdown.subParser('blockGamut')(text, options, globals);
    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);
    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);

    // attacklab: Restore dollar signs
    text = text.replace(/¨D/g, '$$');

    // attacklab: Restore tremas
    text = text.replace(/¨T/g, '¨');

    // render a complete html document instead of a partial if the option is enabled
    text = showdown.subParser('completeHTMLDocument')(text, options, globals);

    // Run output modifiers
    showdown.helper.forEach(outputModifiers, function (ext) {
      text = showdown.subParser('runExtension')(ext, text, options, globals);
    });

    // update metadata
    metadata = globals.metadata;
    return text;
  };

  /**
   * Set an option of this Converter instance
   * @param {string} key
   * @param {*} value
   */
  this.setOption = function (key, value) {
    options[key] = value;
  };

  /**
   * Get the option of this Converter instance
   * @param {string} key
   * @returns {*}
   */
  this.getOption = function (key) {
    return options[key];
  };

  /**
   * Get the options of this Converter instance
   * @returns {{}}
   */
  this.getOptions = function () {
    return options;
  };

  /**
   * Add extension to THIS converter
   * @param {{}} extension
   * @param {string} [name=null]
   */
  this.addExtension = function (extension, name) {
    name = name || null;
    _parseExtension(extension, name);
  };

  /**
   * Use a global registered extension with THIS converter
   * @param {string} extensionName Name of the previously registered extension
   */
  this.useExtension = function (extensionName) {
    _parseExtension(extensionName);
  };

  /**
   * Set the flavor THIS converter should use
   * @param {string} name
   */
  this.setFlavor = function (name) {
    if (!flavor.hasOwnProperty(name)) {
      throw Error(name + ' flavor was not found');
    }
    var preset = flavor[name];
    setConvFlavor = name;
    for (var option in preset) {
      if (preset.hasOwnProperty(option)) {
        options[option] = preset[option];
      }
    }
  };

  /**
   * Get the currently set flavor of this converter
   * @returns {string}
   */
  this.getFlavor = function () {
    return setConvFlavor;
  };

  /**
   * Remove an extension from THIS converter.
   * Note: This is a costly operation. It's better to initialize a new converter
   * and specify the extensions you wish to use
   * @param {Array} extension
   */
  this.removeExtension = function (extension) {
    if (!showdown.helper.isArray(extension)) {
      extension = [extension];
    }
    for (var a = 0; a < extension.length; ++a) {
      var ext = extension[a];
      for (var i = 0; i < langExtensions.length; ++i) {
        if (langExtensions[i] === ext) {
          langExtensions[i].splice(i, 1);
        }
      }
      for (var ii = 0; ii < outputModifiers.length; ++i) {
        if (outputModifiers[ii] === ext) {
          outputModifiers[ii].splice(i, 1);
        }
      }
    }
  };

  /**
   * Get all extension of THIS converter
   * @returns {{language: Array, output: Array}}
   */
  this.getAllExtensions = function () {
    return {
      language: langExtensions,
      output: outputModifiers
    };
  };

  /**
   * Get the metadata of the previously parsed document
   * @param raw
   * @returns {string|{}}
   */
  this.getMetadata = function (raw) {
    if (raw) {
      return metadata.raw;
    } else {
      return metadata.parsed;
    }
  };

  /**
   * Get the metadata format of the previously parsed document
   * @returns {string}
   */
  this.getMetadataFormat = function () {
    return metadata.format;
  };

  /**
   * Private: set a single key, value metadata pair
   * @param {string} key
   * @param {string} value
   */
  this._setMetadataPair = function (key, value) {
    metadata.parsed[key] = value;
  };

  /**
   * Private: set metadata format
   * @param {string} format
   */
  this._setMetadataFormat = function (format) {
    metadata.format = format;
  };

  /**
   * Private: set metadata raw text
   * @param {string} raw
   */
  this._setMetadataRaw = function (raw) {
    metadata.raw = raw;
  };
};

/**
 * Turn Markdown link shortcuts into XHTML <a> tags.
 */
showdown.subParser('anchors', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('anchors.before', text, options, globals);

  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {
    if (showdown.helper.isUndefined(title)) {
      title = '';
    }
    linkId = linkId.toLowerCase();

    // Special case for explicit empty url
    if (wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m) > -1) {
      url = '';
    } else if (!url) {
      if (!linkId) {
        // lower-case and turn embedded newlines into spaces
        linkId = linkText.toLowerCase().replace(/ ?\n/g, ' ');
      }
      url = '#' + linkId;

      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {
        url = globals.gUrls[linkId];
        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {
          title = globals.gTitles[linkId];
        }
      } else {
        return wholeMatch;
      }
    }

    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance
    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);

    var result = '<a href="' + url + '"';

    if (title !== '' && title !== null) {
      title = title.replace(/"/g, '&quot;');
      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance
      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
      result += ' title="' + title + '"';
    }

    // optionLinksInNewWindow only applies
    // to external links. Hash links (#) open in same page
    if (options.openLinksInNewWindow && !/^#/.test(url)) {
      // escaped _
      result += ' target="¨E95Eblank"';
    }

    result += '>' + linkText + '</a>';

    return result;
  };

  // First, handle reference-style links: [link text] [id]
  text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g, writeAnchorTag);

  // Next, inline-style links: [link text](url "optional title")
  // cases with crazy urls like ./image/cat1).png
  text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,
    writeAnchorTag);

  // normal cases
  text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,
                      writeAnchorTag);

  // handle reference-style shortcuts: [link text]
  // These must come last in case you've also got [link test][1]
  // or [link test](/foo)
  text = text.replace(/\[([^\[\]]+)]()()()()()/g, writeAnchorTag);

  // Lastly handle GithubMentions if option is enabled
  if (options.ghMentions) {
    text = text.replace(/(^|\s)(\\)?(@([a-z\d\-]+))(?=[.!?;,[\]()]|\s|$)/gmi, function (wm, st, escape, mentions, username) {
      if (escape === '\\') {
        return st + mentions;
      }

      //check if options.ghMentionsLink is a string
      if (!showdown.helper.isString(options.ghMentionsLink)) {
        throw new Error('ghMentionsLink option must be a string');
      }
      var lnk = options.ghMentionsLink.replace(/\{u}/g, username),
          target = '';
      if (options.openLinksInNewWindow) {
        target = ' target="¨E95Eblank"';
      }
      return st + '<a href="' + lnk + '"' + target + '>' + mentions + '</a>';
    });
  }

  text = globals.converter._dispatch('anchors.after', text, options, globals);
  return text;
});

// url allowed chars [a-z\d_.~:/?#[]@!$&'()*+,;=-]

var simpleURLRegex  = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,
    simpleURLRegex2 = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,
    delimUrlRegex   = /()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,
    simpleMailRegex = /(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,
    delimMailRegex  = /<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,

    replaceLink = function (options) {
      'use strict';
      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {
        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
        var lnkTxt = link,
            append = '',
            target = '',
            lmc    = leadingMagicChars || '',
            tmc    = trailingMagicChars || '';
        if (/^www\./i.test(link)) {
          link = link.replace(/^www\./i, 'http://www.');
        }
        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {
          append = trailingPunctuation;
        }
        if (options.openLinksInNewWindow) {
          target = ' target="¨E95Eblank"';
        }
        return lmc + '<a href="' + link + '"' + target + '>' + lnkTxt + '</a>' + append + tmc;
      };
    },

    replaceMail = function (options, globals) {
      'use strict';
      return function (wholeMatch, b, mail) {
        var href = 'mailto:';
        b = b || '';
        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);
        if (options.encodeEmails) {
          href = showdown.helper.encodeEmailAddress(href + mail);
          mail = showdown.helper.encodeEmailAddress(mail);
        } else {
          href = href + mail;
        }
        return b + '<a href="' + href + '">' + mail + '</a>';
      };
    };

showdown.subParser('autoLinks', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('autoLinks.before', text, options, globals);

  text = text.replace(delimUrlRegex, replaceLink(options));
  text = text.replace(delimMailRegex, replaceMail(options, globals));

  text = globals.converter._dispatch('autoLinks.after', text, options, globals);

  return text;
});

showdown.subParser('simplifiedAutoLinks', function (text, options, globals) {
  'use strict';

  if (!options.simplifiedAutoLink) {
    return text;
  }

  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);

  if (options.excludeTrailingPunctuationFromURLs) {
    text = text.replace(simpleURLRegex2, replaceLink(options));
  } else {
    text = text.replace(simpleURLRegex, replaceLink(options));
  }
  text = text.replace(simpleMailRegex, replaceMail(options, globals));

  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);

  return text;
});

/**
 * These are all the transformations that form block-level
 * tags like paragraphs, headers, and list items.
 */
showdown.subParser('blockGamut', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('blockGamut.before', text, options, globals);

  // we parse blockquotes first so that we can have headings and hrs
  // inside blockquotes
  text = showdown.subParser('blockQuotes')(text, options, globals);
  text = showdown.subParser('headers')(text, options, globals);

  // Do Horizontal Rules:
  text = showdown.subParser('horizontalRule')(text, options, globals);

  text = showdown.subParser('lists')(text, options, globals);
  text = showdown.subParser('codeBlocks')(text, options, globals);
  text = showdown.subParser('tables')(text, options, globals);

  // We already ran _HashHTMLBlocks() before, in Markdown(), but that
  // was to escape raw HTML in the original Markdown source. This time,
  // we're escaping the markup we've just created, so that we don't wrap
  // <p> tags around block-level tags.
  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);
  text = showdown.subParser('paragraphs')(text, options, globals);

  text = globals.converter._dispatch('blockGamut.after', text, options, globals);

  return text;
});

showdown.subParser('blockQuotes', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);

  text = text.replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm, function (wholeMatch, m1) {
    var bq = m1;

    // attacklab: hack around Konqueror 3.5.4 bug:
    // "----------bug".replace(/^-/g,"") == "bug"
    bq = bq.replace(/^[ \t]*>[ \t]?/gm, '¨0'); // trim one level of quoting

    // attacklab: clean up hack
    bq = bq.replace(/¨0/g, '');

    bq = bq.replace(/^[ \t]+$/gm, ''); // trim whitespace-only lines
    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);
    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse

    bq = bq.replace(/(^|\n)/g, '$1  ');
    // These leading spaces screw with <pre> content, so we need to fix that:
    bq = bq.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (wholeMatch, m1) {
      var pre = m1;
      // attacklab: hack around Konqueror 3.5.4 bug:
      pre = pre.replace(/^  /mg, '¨0');
      pre = pre.replace(/¨0/g, '');
      return pre;
    });

    return showdown.subParser('hashBlock')('<blockquote>\n' + bq + '\n</blockquote>', options, globals);
  });

  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);
  return text;
});

/**
 * Process Markdown `<pre><code>` blocks.
 */
showdown.subParser('codeBlocks', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);

  // sentinel workarounds for lack of \A and \Z, safari\khtml bug
  text += '¨0';

  var pattern = /(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;
  text = text.replace(pattern, function (wholeMatch, m1, m2) {
    var codeblock = m1,
        nextChar = m2,
        end = '\n';

    codeblock = showdown.subParser('outdent')(codeblock, options, globals);
    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);
    codeblock = showdown.subParser('detab')(codeblock, options, globals);
    codeblock = codeblock.replace(/^\n+/g, ''); // trim leading newlines
    codeblock = codeblock.replace(/\n+$/g, ''); // trim trailing newlines

    if (options.omitExtraWLInCodeBlocks) {
      end = '';
    }

    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';

    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;
  });

  // strip sentinel
  text = text.replace(/¨0/, '');

  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);
  return text;
});

/**
 *
 *   *  Backtick quotes are used for <code></code> spans.
 *
 *   *  You can use multiple backticks as the delimiters if you want to
 *     include literal backticks in the code span. So, this input:
 *
 *         Just type ``foo `bar` baz`` at the prompt.
 *
 *       Will translate to:
 *
 *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>
 *
 *    There's no arbitrary limit to the number of backticks you
 *    can use as delimters. If you need three consecutive backticks
 *    in your code, use four for delimiters, etc.
 *
 *  *  You can use spaces to get literal backticks at the edges:
 *
 *         ... type `` `bar` `` ...
 *
 *       Turns to:
 *
 *         ... type <code>`bar`</code> ...
 */
showdown.subParser('codeSpans', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('codeSpans.before', text, options, globals);

  if (typeof(text) === 'undefined') {
    text = '';
  }
  text = text.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,
    function (wholeMatch, m1, m2, m3) {
      var c = m3;
      c = c.replace(/^([ \t]*)/g, '');	// leading whitespace
      c = c.replace(/[ \t]*$/g, '');	// trailing whitespace
      c = showdown.subParser('encodeCode')(c, options, globals);
      c = m1 + '<code>' + c + '</code>';
      c = showdown.subParser('hashHTMLSpans')(c, options, globals);
      return c;
    }
  );

  text = globals.converter._dispatch('codeSpans.after', text, options, globals);
  return text;
});

/**
 * Turn Markdown link shortcuts into XHTML <a> tags.
 */
showdown.subParser('completeHTMLDocument', function (text, options, globals) {
  'use strict';

  if (!options.completeHTMLDocument) {
    return text;
  }

  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);

  var doctype = 'html',
      doctypeParsed = '<!DOCTYPE HTML>\n',
      title = '',
      charset = '<meta charset="utf-8">\n',
      lang = '',
      metadata = '';

  if (typeof globals.metadata.parsed.doctype !== 'undefined') {
    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\n';
    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();
    if (doctype === 'html' || doctype === 'html5') {
      charset = '<meta charset="utf-8">';
    }
  }

  for (var meta in globals.metadata.parsed) {
    if (globals.metadata.parsed.hasOwnProperty(meta)) {
      switch (meta.toLowerCase()) {
        case 'doctype':
          break;

        case 'title':
          title = '<title>' +  globals.metadata.parsed.title + '</title>\n';
          break;

        case 'charset':
          if (doctype === 'html' || doctype === 'html5') {
            charset = '<meta charset="' + globals.metadata.parsed.charset + '">\n';
          } else {
            charset = '<meta name="charset" content="' + globals.metadata.parsed.charset + '">\n';
          }
          break;

        case 'language':
        case 'lang':
          lang = ' lang="' + globals.metadata.parsed[meta] + '"';
          metadata += '<meta name="' + meta + '" content="' + globals.metadata.parsed[meta] + '">\n';
          break;

        default:
          metadata += '<meta name="' + meta + '" content="' + globals.metadata.parsed[meta] + '">\n';
      }
    }
  }

  text = doctypeParsed + '<html' + lang + '>\n<head>\n' + title + charset + metadata + '</head>\n<body>\n' + text.trim() + '\n</body>\n</html>';

  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);
  return text;
});

/**
 * Convert all tabs to spaces
 */
showdown.subParser('detab', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('detab.before', text, options, globals);

  // expand first n-1 tabs
  text = text.replace(/\t(?=\t)/g, '    '); // g_tab_width

  // replace the nth with two sentinels
  text = text.replace(/\t/g, '¨A¨B');

  // use the sentinel to anchor our regex so it doesn't explode
  text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {
    var leadingText = m1,
        numSpaces = 4 - leadingText.length % 4;  // g_tab_width

    // there *must* be a better way to do this:
    for (var i = 0; i < numSpaces; i++) {
      leadingText += ' ';
    }

    return leadingText;
  });

  // clean up sentinels
  text = text.replace(/¨A/g, '    ');  // g_tab_width
  text = text.replace(/¨B/g, '');

  text = globals.converter._dispatch('detab.after', text, options, globals);
  return text;
});

showdown.subParser('ellipsis', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('ellipsis.before', text, options, globals);

  text = text.replace(/\.\.\./g, '…');

  text = globals.converter._dispatch('ellipsis.after', text, options, globals);

  return text;
});

/**
 * These are all the transformations that occur *within* block-level
 * tags like paragraphs, headers, and list items.
 */
showdown.subParser('emoji', function (text, options, globals) {
  'use strict';

  if (!options.emoji) {
    return text;
  }

  text = globals.converter._dispatch('emoji.before', text, options, globals);

  var emojiRgx = /:([\S]+?):/g;

  text = text.replace(emojiRgx, function (wm, emojiCode) {
    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {
      return showdown.helper.emojis[emojiCode];
    }
    return wm;
  });

  text = globals.converter._dispatch('emoji.after', text, options, globals);

  return text;
});

/**
 * Smart processing for ampersands and angle brackets that need to be encoded.
 */
showdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);

  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:
  // http://bumppo.net/projects/amputator/
  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, '&amp;');

  // Encode naked <'s
  text = text.replace(/<(?![a-z\/?$!])/gi, '&lt;');

  // Encode <
  text = text.replace(/</g, '&lt;');

  // Encode >
  text = text.replace(/>/g, '&gt;');

  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);
  return text;
});

/**
 * Returns the string, with after processing the following backslash escape sequences.
 *
 * attacklab: The polite way to do this is with the new escapeCharacters() function:
 *
 *    text = escapeCharacters(text,"\\",true);
 *    text = escapeCharacters(text,"`*_{}[]()>#+-.!",true);
 *
 * ...but we're sidestepping its use of the (slow) RegExp constructor
 * as an optimization for Firefox.  This function gets called a LOT.
 */
showdown.subParser('encodeBackslashEscapes', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);

  text = text.replace(/\\(\\)/g, showdown.helper.escapeCharactersCallback);
  text = text.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);

  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);
  return text;
});

/**
 * Encode/escape certain characters inside Markdown code runs.
 * The point is that in code, these characters are literals,
 * and lose their special Markdown meanings.
 */
showdown.subParser('encodeCode', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('encodeCode.before', text, options, globals);

  // Encode all ampersands; HTML entities are not
  // entities within a Markdown code span.
  text = text
    .replace(/&/g, '&amp;')
  // Do the angle bracket song and dance:
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
  // Now, escape characters that are magic in Markdown:
    .replace(/([*_{}\[\]\\=~-])/g, showdown.helper.escapeCharactersCallback);

  text = globals.converter._dispatch('encodeCode.after', text, options, globals);
  return text;
});

/**
 * Within tags -- meaning between < and > -- encode [\ ` * _ ~ =] so they
 * don't conflict with their use in Markdown for code, italics and strong.
 */
showdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);

  // Build a regex to find HTML tags.
  var tags     = /<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,
      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;

  text = text.replace(tags, function (wholeMatch) {
    return wholeMatch
      .replace(/(.)<\/?code>(?=.)/g, '$1`')
      .replace(/([\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);
  });

  text = text.replace(comments, function (wholeMatch) {
    return wholeMatch
      .replace(/([\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);
  });

  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);
  return text;
});

/**
 * Handle github codeblocks prior to running HashHTML so that
 * HTML contained within the codeblock gets escaped properly
 * Example:
 * ```ruby
 *     def hello_world(x)
 *       puts "Hello, #{x}"
 *     end
 * ```
 */
showdown.subParser('githubCodeBlocks', function (text, options, globals) {
  'use strict';

  // early exit if option is not enabled
  if (!options.ghCodeBlocks) {
    return text;
  }

  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);

  text += '¨0';

  text = text.replace(/(?:^|\n)(```+|~~~+)([^\s`~]*)\n([\s\S]*?)\n\1/g, function (wholeMatch, delim, language, codeblock) {
    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\n';

    // First parse the github code block
    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);
    codeblock = showdown.subParser('detab')(codeblock, options, globals);
    codeblock = codeblock.replace(/^\n+/g, ''); // trim leading newlines
    codeblock = codeblock.replace(/\n+$/g, ''); // trim trailing whitespace

    codeblock = '<pre><code' + (language ? ' class="' + language + ' language-' + language + '"' : '') + '>' + codeblock + end + '</code></pre>';

    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);

    // Since GHCodeblocks can be false positives, we need to
    // store the primitive text and the parsed text in a global var,
    // and then return a token
    return '\n\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\n\n';
  });

  // attacklab: strip sentinel
  text = text.replace(/¨0/, '');

  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);
});

showdown.subParser('hashBlock', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashBlock.before', text, options, globals);
  text = text.replace(/(^\n+|\n+$)/g, '');
  text = '\n\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\n\n';
  text = globals.converter._dispatch('hashBlock.after', text, options, globals);
  return text;
});

/**
 * Hash and escape <code> elements that should not be parsed as markdown
 */
showdown.subParser('hashCodeTags', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);

  var repFunc = function (wholeMatch, match, left, right) {
    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;
    return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';
  };

  // Hash naked <code>
  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\b[^>]*>', '</code>', 'gim');

  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);
  return text;
});

showdown.subParser('hashElement', function (text, options, globals) {
  'use strict';

  return function (wholeMatch, m1) {
    var blockText = m1;

    // Undo double lines
    blockText = blockText.replace(/\n\n/g, '\n');
    blockText = blockText.replace(/^\n/, '');

    // strip trailing blank lines
    blockText = blockText.replace(/\n+$/g, '');

    // Replace the element text with a marker ("¨KxK" where x is its key)
    blockText = '\n\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\n\n';

    return blockText;
  };
});

showdown.subParser('hashHTMLBlocks', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);

  var blockTags = [
        'pre',
        'div',
        'h1',
        'h2',
        'h3',
        'h4',
        'h5',
        'h6',
        'blockquote',
        'table',
        'dl',
        'ol',
        'ul',
        'script',
        'noscript',
        'form',
        'fieldset',
        'iframe',
        'math',
        'style',
        'section',
        'header',
        'footer',
        'nav',
        'article',
        'aside',
        'address',
        'audio',
        'canvas',
        'figure',
        'hgroup',
        'output',
        'video',
        'p'
      ],
      repFunc = function (wholeMatch, match, left, right) {
        var txt = wholeMatch;
        // check if this html element is marked as markdown
        // if so, it's contents should be parsed as markdown
        if (left.search(/\bmarkdown\b/) !== -1) {
          txt = left + globals.converter.makeHtml(match) + right;
        }
        return '\n\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\n\n';
      };

  if (options.backslashEscapesHTMLTags) {
    // encode backslash escaped HTML tags
    text = text.replace(/\\<(\/?[^>]+?)>/g, function (wm, inside) {
      return '&lt;' + inside + '&gt;';
    });
  }

  // hash HTML Blocks
  for (var i = 0; i < blockTags.length; ++i) {

    var opTagPos,
        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\b[^>]*>)', 'im'),
        patLeft  = '<' + blockTags[i] + '\\b[^>]*>',
        patRight = '</' + blockTags[i] + '>';
    // 1. Look for the first position of the first opening HTML tag in the text
    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {

      // if the HTML tag is \ escaped, we need to escape it and break


      //2. Split the text in that position
      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),
      //3. Match recursively
          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');

      // prevent an infinite loop
      if (newSubText1 === subTexts[1]) {
        break;
      }
      text = subTexts[0].concat(newSubText1);
    }
  }
  // HR SPECIAL CASE
  text = text.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,
    showdown.subParser('hashElement')(text, options, globals));

  // Special case for standalone HTML comments
  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {
    return '\n\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\n\n';
  }, '^ {0,3}<!--', '-->', 'gm');

  // PHP and ASP-style processor instructions (<?...?> and <%...%>)
  text = text.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,
    showdown.subParser('hashElement')(text, options, globals));

  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);
  return text;
});

/**
 * Hash span elements that should not be parsed as markdown
 */
showdown.subParser('hashHTMLSpans', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);

  function hashHTMLSpan (html) {
    return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';
  }

  // Hash Self Closing tags
  text = text.replace(/<[^>]+?\/>/gi, function (wm) {
    return hashHTMLSpan(wm);
  });

  // Hash tags without properties
  text = text.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g, function (wm) {
    return hashHTMLSpan(wm);
  });

  // Hash tags with properties
  text = text.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g, function (wm) {
    return hashHTMLSpan(wm);
  });

  // Hash self closing tags without />
  text = text.replace(/<[^>]+?>/gi, function (wm) {
    return hashHTMLSpan(wm);
  });

  /*showdown.helper.matchRecursiveRegExp(text, '<code\\b[^>]*>', '</code>', 'gi');*/

  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);
  return text;
});

/**
 * Unhash HTML spans
 */
showdown.subParser('unhashHTMLSpans', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);

  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {
    var repText = globals.gHtmlSpans[i],
        // limiter to prevent infinite loop (assume 10 as limit for recurse)
        limit = 0;

    while (/¨C(\d+)C/.test(repText)) {
      var num = RegExp.$1;
      repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);
      if (limit === 10) {
        console.error('maximum nesting of 10 spans reached!!!');
        break;
      }
      ++limit;
    }
    text = text.replace('¨C' + i + 'C', repText);
  }

  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);
  return text;
});

/**
 * Hash and escape <pre><code> elements that should not be parsed as markdown
 */
showdown.subParser('hashPreCodeTags', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);

  var repFunc = function (wholeMatch, match, left, right) {
    // encode html entities
    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;
    return '\n\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\n\n';
  };

  // Hash <pre><code>
  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>', '^ {0,3}</code>\\s*</pre>', 'gim');

  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);
  return text;
});

showdown.subParser('headers', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('headers.before', text, options, globals);

  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),

  // Set text-style headers:
  //	Header 1
  //	========
  //
  //	Header 2
  //	--------
  //
      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \t]*\n={2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n=+[ \t]*\n+/gm,
      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n-+[ \t]*\n+/gm;

  text = text.replace(setextRegexH1, function (wholeMatch, m1) {

    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),
        hID = (options.noHeaderId) ? '' : ' id="' + headerId(m1) + '"',
        hLevel = headerLevelStart,
        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';
    return showdown.subParser('hashBlock')(hashBlock, options, globals);
  });

  text = text.replace(setextRegexH2, function (matchFound, m1) {
    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),
        hID = (options.noHeaderId) ? '' : ' id="' + headerId(m1) + '"',
        hLevel = headerLevelStart + 1,
        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';
    return showdown.subParser('hashBlock')(hashBlock, options, globals);
  });

  // atx-style headers:
  //  # Header 1
  //  ## Header 2
  //  ## Header 2 with closing hashes ##
  //  ...
  //  ###### Header 6
  //
  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm : /^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;

  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {
    var hText = m2;
    if (options.customizedHeaderId) {
      hText = m2.replace(/\s?\{([^{]+?)}\s*$/, '');
    }

    var span = showdown.subParser('spanGamut')(hText, options, globals),
        hID = (options.noHeaderId) ? '' : ' id="' + headerId(m2) + '"',
        hLevel = headerLevelStart - 1 + m1.length,
        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';

    return showdown.subParser('hashBlock')(header, options, globals);
  });

  function headerId (m) {
    var title,
        prefix;

    // It is separate from other options to allow combining prefix and customized
    if (options.customizedHeaderId) {
      var match = m.match(/\{([^{]+?)}\s*$/);
      if (match && match[1]) {
        m = match[1];
      }
    }

    title = m;

    // Prefix id to prevent causing inadvertent pre-existing style matches.
    if (showdown.helper.isString(options.prefixHeaderId)) {
      prefix = options.prefixHeaderId;
    } else if (options.prefixHeaderId === true) {
      prefix = 'section-';
    } else {
      prefix = '';
    }

    if (!options.rawPrefixHeaderId) {
      title = prefix + title;
    }

    if (options.ghCompatibleHeaderId) {
      title = title
        .replace(/ /g, '-')
        // replace previously escaped chars (&, ¨ and $)
        .replace(/&amp;/g, '')
        .replace(/¨T/g, '')
        .replace(/¨D/g, '')
        // replace rest of the chars (&~$ are repeated as they might have been escaped)
        // borrowed from github's redcarpet (some they should produce similar results)
        .replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g, '')
        .toLowerCase();
    } else if (options.rawHeaderId) {
      title = title
        .replace(/ /g, '-')
        // replace previously escaped chars (&, ¨ and $)
        .replace(/&amp;/g, '&')
        .replace(/¨T/g, '¨')
        .replace(/¨D/g, '$')
        // replace " and '
        .replace(/["']/g, '-')
        .toLowerCase();
    } else {
      title = title
        .replace(/[^\w]/g, '')
        .toLowerCase();
    }

    if (options.rawPrefixHeaderId) {
      title = prefix + title;
    }

    if (globals.hashLinkCounts[title]) {
      title = title + '-' + (globals.hashLinkCounts[title]++);
    } else {
      globals.hashLinkCounts[title] = 1;
    }
    return title;
  }

  text = globals.converter._dispatch('headers.after', text, options, globals);
  return text;
});

/**
 * Turn Markdown link shortcuts into XHTML <a> tags.
 */
showdown.subParser('horizontalRule', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);

  var key = showdown.subParser('hashBlock')('<hr />', options, globals);
  text = text.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm, key);
  text = text.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm, key);
  text = text.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm, key);

  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);
  return text;
});

/**
 * Turn Markdown image shortcuts into <img> tags.
 */
showdown.subParser('images', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('images.before', text, options, globals);

  var inlineRegExp      = /!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,
      crazyRegExp       = /!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,
      base64RegExp      = /!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,
      referenceRegExp   = /!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,
      refShortcutRegExp = /!\[([^\[\]]+)]()()()()()/g;

  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {
    url = url.replace(/\s/g, '');
    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);
  }

  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {

    var gUrls   = globals.gUrls,
        gTitles = globals.gTitles,
        gDims   = globals.gDimensions;

    linkId = linkId.toLowerCase();

    if (!title) {
      title = '';
    }
    // Special case for explicit empty url
    if (wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m) > -1) {
      url = '';

    } else if (url === '' || url === null) {
      if (linkId === '' || linkId === null) {
        // lower-case and turn embedded newlines into spaces
        linkId = altText.toLowerCase().replace(/ ?\n/g, ' ');
      }
      url = '#' + linkId;

      if (!showdown.helper.isUndefined(gUrls[linkId])) {
        url = gUrls[linkId];
        if (!showdown.helper.isUndefined(gTitles[linkId])) {
          title = gTitles[linkId];
        }
        if (!showdown.helper.isUndefined(gDims[linkId])) {
          width = gDims[linkId].width;
          height = gDims[linkId].height;
        }
      } else {
        return wholeMatch;
      }
    }

    altText = altText
      .replace(/"/g, '&quot;')
    //altText = showdown.helper.escapeCharacters(altText, '*_', false);
      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
    //url = showdown.helper.escapeCharacters(url, '*_', false);
    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
    var result = '<img src="' + url + '" alt="' + altText + '"';

    if (title) {
      title = title
        .replace(/"/g, '&quot;')
      //title = showdown.helper.escapeCharacters(title, '*_', false);
        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
      result += ' title="' + title + '"';
    }

    if (width && height) {
      width  = (width === '*') ? 'auto' : width;
      height = (height === '*') ? 'auto' : height;

      result += ' width="' + width + '"';
      result += ' height="' + height + '"';
    }

    result += ' />';

    return result;
  }

  // First, handle reference-style labeled images: ![alt text][id]
  text = text.replace(referenceRegExp, writeImageTag);

  // Next, handle inline images:  ![alt text](url =<width>x<height> "optional title")

  // base64 encoded images
  text = text.replace(base64RegExp, writeImageTagBase64);

  // cases with crazy urls like ./image/cat1).png
  text = text.replace(crazyRegExp, writeImageTag);

  // normal cases
  text = text.replace(inlineRegExp, writeImageTag);

  // handle reference-style shortcuts: ![img text]
  text = text.replace(refShortcutRegExp, writeImageTag);

  text = globals.converter._dispatch('images.after', text, options, globals);
  return text;
});

showdown.subParser('italicsAndBold', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);

  // it's faster to have 3 separate regexes for each case than have just one
  // because of backtracing, in some cases, it could lead to an exponential effect
  // called "catastrophic backtrace". Ominous!

  function parseInside (txt, left, right) {
    /*
    if (options.simplifiedAutoLink) {
      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);
    }
    */
    return left + txt + right;
  }

  // Parse underscores
  if (options.literalMidWordUnderscores) {
    text = text.replace(/\b___(\S[\s\S]*)___\b/g, function (wm, txt) {
      return parseInside (txt, '<strong><em>', '</em></strong>');
    });
    text = text.replace(/\b__(\S[\s\S]*)__\b/g, function (wm, txt) {
      return parseInside (txt, '<strong>', '</strong>');
    });
    text = text.replace(/\b_(\S[\s\S]*?)_\b/g, function (wm, txt) {
      return parseInside (txt, '<em>', '</em>');
    });
  } else {
    text = text.replace(/___(\S[\s\S]*?)___/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;
    });
    text = text.replace(/__(\S[\s\S]*?)__/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;
    });
    text = text.replace(/_([^\s_][\s\S]*?)_/g, function (wm, m) {
      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)
      return (/\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;
    });
  }

  // Now parse asterisks
  if (options.literalMidWordAsterisks) {
    text = text.replace(/([^*]|^)\B\*\*\*(\S[\s\S]+?)\*\*\*\B(?!\*)/g, function (wm, lead, txt) {
      return parseInside (txt, lead + '<strong><em>', '</em></strong>');
    });
    text = text.replace(/([^*]|^)\B\*\*(\S[\s\S]+?)\*\*\B(?!\*)/g, function (wm, lead, txt) {
      return parseInside (txt, lead + '<strong>', '</strong>');
    });
    text = text.replace(/([^*]|^)\B\*(\S[\s\S]+?)\*\B(?!\*)/g, function (wm, lead, txt) {
      return parseInside (txt, lead + '<em>', '</em>');
    });
  } else {
    text = text.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;
    });
    text = text.replace(/\*\*(\S[\s\S]*?)\*\*/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;
    });
    text = text.replace(/\*([^\s*][\s\S]*?)\*/g, function (wm, m) {
      // !/^\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)
      return (/\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;
    });
  }


  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);
  return text;
});

/**
 * Form HTML ordered (numbered) and unordered (bulleted) lists.
 */
showdown.subParser('lists', function (text, options, globals) {
  'use strict';

  /**
   * Process the contents of a single ordered or unordered list, splitting it
   * into individual list items.
   * @param {string} listStr
   * @param {boolean} trimTrailing
   * @returns {string}
   */
  function processListItems (listStr, trimTrailing) {
    // The $g_list_level global keeps track of when we're inside a list.
    // Each time we enter a list, we increment it; when we leave a list,
    // we decrement. If it's zero, we're not in a list anymore.
    //
    // We do this because when we're not inside a list, we want to treat
    // something like this:
    //
    //    I recommend upgrading to version
    //    8. Oops, now this line is treated
    //    as a sub-list.
    //
    // As a single paragraph, despite the fact that the second line starts
    // with a digit-period-space sequence.
    //
    // Whereas when we're inside a list (or sub-list), that line will be
    // treated as the start of a sub-list. What a kludge, huh? This is
    // an aspect of Markdown's syntax that's hard to parse perfectly
    // without resorting to mind-reading. Perhaps the solution is to
    // change the syntax rules such that sub-lists must start with a
    // starting cardinal number; e.g. "1." or "a.".
    globals.gListLevel++;

    // trim trailing blank lines:
    listStr = listStr.replace(/\n{2,}$/, '\n');

    // attacklab: add sentinel to emulate \z
    listStr += '¨0';

    var rgx = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,
        isParagraphed = (/\n[ \t]*\n(?!¨0)/.test(listStr));

    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,
    // which is a syntax breaking change
    // activating this option reverts to old behavior
    if (options.disableForced4SpacesIndentedSublists) {
      rgx = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm;
    }

    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {
      checked = (checked && checked.trim() !== '');

      var item = showdown.subParser('outdent')(m4, options, globals),
          bulletStyle = '';

      // Support for github tasklists
      if (taskbtn && options.tasklists) {
        bulletStyle = ' class="task-list-item" style="list-style-type: none;"';
        item = item.replace(/^[ \t]*\[(x|X| )?]/m, function () {
          var otp = '<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';
          if (checked) {
            otp += ' checked';
          }
          otp += '>';
          return otp;
        });
      }

      // ISSUE #312
      // This input: - - - a
      // causes trouble to the parser, since it interprets it as:
      // <ul><li><li><li>a</li></li></li></ul>
      // instead of:
      // <ul><li>- - a</li></ul>
      // So, to prevent it, we will put a marker (¨A)in the beginning of the line
      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser
      item = item.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g, function (wm2) {
        return '¨A' + wm2;
      });

      // m1 - Leading line or
      // Has a double return (multi paragraph) or
      // Has sublist
      if (m1 || (item.search(/\n{2,}/) > -1)) {
        item = showdown.subParser('githubCodeBlocks')(item, options, globals);
        item = showdown.subParser('blockGamut')(item, options, globals);
      } else {
        // Recursion for sub-lists:
        item = showdown.subParser('lists')(item, options, globals);
        item = item.replace(/\n$/, ''); // chomp(item)
        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);

        // Colapse double linebreaks
        item = item.replace(/\n\n+/g, '\n\n');
        if (isParagraphed) {
          item = showdown.subParser('paragraphs')(item, options, globals);
        } else {
          item = showdown.subParser('spanGamut')(item, options, globals);
        }
      }

      // now we need to remove the marker (¨A)
      item = item.replace('¨A', '');
      // we can finally wrap the line in list item tags
      item =  '<li' + bulletStyle + '>' + item + '</li>\n';

      return item;
    });

    // attacklab: strip sentinel
    listStr = listStr.replace(/¨0/g, '');

    globals.gListLevel--;

    if (trimTrailing) {
      listStr = listStr.replace(/\s+$/, '');
    }

    return listStr;
  }

  function styleStartNumber (list, listType) {
    // check if ol and starts by a number different than 1
    if (listType === 'ol') {
      var res = list.match(/^ *(\d+)\./);
      if (res && res[1] !== '1') {
        return ' start="' + res[1] + '"';
      }
    }
    return '';
  }

  /**
   * Check and parse consecutive lists (better fix for issue #142)
   * @param {string} list
   * @param {string} listType
   * @param {boolean} trimTrailing
   * @returns {string}
   */
  function parseConsecutiveLists (list, listType, trimTrailing) {
    // check if we caught 2 or more consecutive lists by mistake
    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa
    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\d+\.[ \t]/gm : /^ {0,3}\d+\.[ \t]/gm,
        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \t]/gm : /^ {0,3}[*+-][ \t]/gm,
        counterRxg = (listType === 'ul') ? olRgx : ulRgx,
        result = '';

    if (list.search(counterRxg) !== -1) {
      (function parseCL (txt) {
        var pos = txt.search(counterRxg),
            style = styleStartNumber(list, listType);
        if (pos !== -1) {
          // slice
          result += '\n\n<' + listType + style + '>\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\n';

          // invert counterType and listType
          listType = (listType === 'ul') ? 'ol' : 'ul';
          counterRxg = (listType === 'ul') ? olRgx : ulRgx;

          //recurse
          parseCL(txt.slice(pos));
        } else {
          result += '\n\n<' + listType + style + '>\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\n';
        }
      })(list);
    } else {
      var style = styleStartNumber(list, listType);
      result = '\n\n<' + listType + style + '>\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\n';
    }

    return result;
  }

  /** Start of list parsing **/
  text = globals.converter._dispatch('lists.before', text, options, globals);
  // add sentinel to hack around khtml/safari bug:
  // http://bugs.webkit.org/show_bug.cgi?id=11231
  text += '¨0';

  if (globals.gListLevel) {
    text = text.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,
      function (wholeMatch, list, m2) {
        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';
        return parseConsecutiveLists(list, listType, true);
      }
    );
  } else {
    text = text.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,
      function (wholeMatch, m1, list, m3) {
        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';
        return parseConsecutiveLists(list, listType, false);
      }
    );
  }

  // strip sentinel
  text = text.replace(/¨0/, '');
  text = globals.converter._dispatch('lists.after', text, options, globals);
  return text;
});

/**
 * Parse metadata at the top of the document
 */
showdown.subParser('metadata', function (text, options, globals) {
  'use strict';

  if (!options.metadata) {
    return text;
  }

  text = globals.converter._dispatch('metadata.before', text, options, globals);

  function parseMetadataContents (content) {
    // raw is raw so it's not changed in any way
    globals.metadata.raw = content;

    // escape chars forbidden in html attributes
    // double quotes
    content = content
      // ampersand first
      .replace(/&/g, '&amp;')
      // double quotes
      .replace(/"/g, '&quot;');

    content = content.replace(/\n {4}/g, ' ');
    content.replace(/^([\S ]+): +([\s\S]+?)$/gm, function (wm, key, value) {
      globals.metadata.parsed[key] = value;
      return '';
    });
  }

  text = text.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/, function (wholematch, format, content) {
    parseMetadataContents(content);
    return '¨M';
  });

  text = text.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/, function (wholematch, format, content) {
    if (format) {
      globals.metadata.format = format;
    }
    parseMetadataContents(content);
    return '¨M';
  });

  text = text.replace(/¨M/g, '');

  text = globals.converter._dispatch('metadata.after', text, options, globals);
  return text;
});

/**
 * Remove one level of line-leading tabs or spaces
 */
showdown.subParser('outdent', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('outdent.before', text, options, globals);

  // attacklab: hack around Konqueror 3.5.4 bug:
  // "----------bug".replace(/^-/g,"") == "bug"
  text = text.replace(/^(\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width

  // attacklab: clean up hack
  text = text.replace(/¨0/g, '');

  text = globals.converter._dispatch('outdent.after', text, options, globals);
  return text;
});

/**
 *
 */
showdown.subParser('paragraphs', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('paragraphs.before', text, options, globals);
  // Strip leading and trailing lines:
  text = text.replace(/^\n+/g, '');
  text = text.replace(/\n+$/g, '');

  var grafs = text.split(/\n{2,}/g),
      grafsOut = [],
      end = grafs.length; // Wrap <p> tags

  for (var i = 0; i < end; i++) {
    var str = grafs[i];
    // if this is an HTML marker, copy it
    if (str.search(/¨(K|G)(\d+)\1/g) >= 0) {
      grafsOut.push(str);

    // test for presence of characters to prevent empty lines being parsed
    // as paragraphs (resulting in undesired extra empty paragraphs)
    } else if (str.search(/\S/) >= 0) {
      str = showdown.subParser('spanGamut')(str, options, globals);
      str = str.replace(/^([ \t]*)/g, '<p>');
      str += '</p>';
      grafsOut.push(str);
    }
  }

  /** Unhashify HTML blocks */
  end = grafsOut.length;
  for (i = 0; i < end; i++) {
    var blockText = '',
        grafsOutIt = grafsOut[i],
        codeFlag = false;
    // if this is a marker for an html block...
    // use RegExp.test instead of string.search because of QML bug
    while (/¨(K|G)(\d+)\1/.test(grafsOutIt)) {
      var delim = RegExp.$1,
          num   = RegExp.$2;

      if (delim === 'K') {
        blockText = globals.gHtmlBlocks[num];
      } else {
        // we need to check if ghBlock is a false positive
        if (codeFlag) {
          // use encoded version of all text
          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);
        } else {
          blockText = globals.ghCodeBlocks[num].codeblock;
        }
      }
      blockText = blockText.replace(/\$/g, '$$$$'); // Escape any dollar signs

      grafsOutIt = grafsOutIt.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/, blockText);
      // Check if grafsOutIt is a pre->code
      if (/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(grafsOutIt)) {
        codeFlag = true;
      }
    }
    grafsOut[i] = grafsOutIt;
  }
  text = grafsOut.join('\n');
  // Strip leading and trailing lines:
  text = text.replace(/^\n+/g, '');
  text = text.replace(/\n+$/g, '');
  return globals.converter._dispatch('paragraphs.after', text, options, globals);
});

/**
 * Run extension
 */
showdown.subParser('runExtension', function (ext, text, options, globals) {
  'use strict';

  if (ext.filter) {
    text = ext.filter(text, globals.converter, options);

  } else if (ext.regex) {
    // TODO remove this when old extension loading mechanism is deprecated
    var re = ext.regex;
    if (!(re instanceof RegExp)) {
      re = new RegExp(re, 'g');
    }
    text = text.replace(re, ext.replace);
  }

  return text;
});

/**
 * These are all the transformations that occur *within* block-level
 * tags like paragraphs, headers, and list items.
 */
showdown.subParser('spanGamut', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('spanGamut.before', text, options, globals);
  text = showdown.subParser('codeSpans')(text, options, globals);
  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);
  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);

  // Process anchor and image tags. Images must come first,
  // because ![foo][f] looks like an anchor.
  text = showdown.subParser('images')(text, options, globals);
  text = showdown.subParser('anchors')(text, options, globals);

  // Make links out of things like `<http://example.com/>`
  // Must come after anchors, because you can use < and >
  // delimiters in inline links like [this](<url>).
  text = showdown.subParser('autoLinks')(text, options, globals);
  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);
  text = showdown.subParser('emoji')(text, options, globals);
  text = showdown.subParser('underline')(text, options, globals);
  text = showdown.subParser('italicsAndBold')(text, options, globals);
  text = showdown.subParser('strikethrough')(text, options, globals);
  text = showdown.subParser('ellipsis')(text, options, globals);

  // we need to hash HTML tags inside spans
  text = showdown.subParser('hashHTMLSpans')(text, options, globals);

  // now we encode amps and angles
  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);

  // Do hard breaks
  if (options.simpleLineBreaks) {
    // GFM style hard breaks
    // only add line breaks if the text does not contain a block (special case for lists)
    if (!/\n\n¨K/.test(text)) {
      text = text.replace(/\n+/g, '<br />\n');
    }
  } else {
    // Vanilla hard breaks
    text = text.replace(/  +\n/g, '<br />\n');
  }

  text = globals.converter._dispatch('spanGamut.after', text, options, globals);
  return text;
});

showdown.subParser('strikethrough', function (text, options, globals) {
  'use strict';

  function parseInside (txt) {
    if (options.simplifiedAutoLink) {
      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);
    }
    return '<del>' + txt + '</del>';
  }

  if (options.strikethrough) {
    text = globals.converter._dispatch('strikethrough.before', text, options, globals);
    text = text.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });
    text = globals.converter._dispatch('strikethrough.after', text, options, globals);
  }

  return text;
});

/**
 * Strips link definitions from text, stores the URLs and titles in
 * hash references.
 * Link defs are in the form: ^[id]: url "optional title"
 */
showdown.subParser('stripLinkDefinitions', function (text, options, globals) {
  'use strict';

  var regex       = /^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,
      base64Regex = /^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;

  // attacklab: sentinel workarounds for lack of \A and \Z, safari\khtml bug
  text += '¨0';

  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {
    linkId = linkId.toLowerCase();
    if (url.match(/^data:.+?\/.+?;base64,/)) {
      // remove newlines
      globals.gUrls[linkId] = url.replace(/\s/g, '');
    } else {
      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive
    }

    if (blankLines) {
      // Oops, found blank lines, so it's not a title.
      // Put back the parenthetical statement we stole.
      return blankLines + title;

    } else {
      if (title) {
        globals.gTitles[linkId] = title.replace(/"|'/g, '&quot;');
      }
      if (options.parseImgDimensions && width && height) {
        globals.gDimensions[linkId] = {
          width:  width,
          height: height
        };
      }
    }
    // Completely remove the definition from the text
    return '';
  };

  // first we try to find base64 link references
  text = text.replace(base64Regex, replaceFunc);

  text = text.replace(regex, replaceFunc);

  // attacklab: strip sentinel
  text = text.replace(/¨0/, '');

  return text;
});

showdown.subParser('tables', function (text, options, globals) {
  'use strict';

  if (!options.tables) {
    return text;
  }

  var tableRgx       = /^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,
    //singeColTblRgx = /^ {0,3}\|.+\|\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n(?: {0,3}\|.+\|\n)+(?:\n\n|¨0)/gm;
      singeColTblRgx = /^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;

  function parseStyles (sLine) {
    if (/^:[ \t]*--*$/.test(sLine)) {
      return ' style="text-align:left;"';
    } else if (/^--*[ \t]*:[ \t]*$/.test(sLine)) {
      return ' style="text-align:right;"';
    } else if (/^:[ \t]*--*[ \t]*:$/.test(sLine)) {
      return ' style="text-align:center;"';
    } else {
      return '';
    }
  }

  function parseHeaders (header, style) {
    var id = '';
    header = header.trim();
    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility
    if (options.tablesHeaderId || options.tableHeaderId) {
      id = ' id="' + header.replace(/ /g, '_').toLowerCase() + '"';
    }
    header = showdown.subParser('spanGamut')(header, options, globals);

    return '<th' + id + style + '>' + header + '</th>\n';
  }

  function parseCells (cell, style) {
    var subText = showdown.subParser('spanGamut')(cell, options, globals);
    return '<td' + style + '>' + subText + '</td>\n';
  }

  function buildTable (headers, cells) {
    var tb = '<table>\n<thead>\n<tr>\n',
        tblLgn = headers.length;

    for (var i = 0; i < tblLgn; ++i) {
      tb += headers[i];
    }
    tb += '</tr>\n</thead>\n<tbody>\n';

    for (i = 0; i < cells.length; ++i) {
      tb += '<tr>\n';
      for (var ii = 0; ii < tblLgn; ++ii) {
        tb += cells[i][ii];
      }
      tb += '</tr>\n';
    }
    tb += '</tbody>\n</table>\n';
    return tb;
  }

  function parseTable (rawTable) {
    var i, tableLines = rawTable.split('\n');

    for (i = 0; i < tableLines.length; ++i) {
      // strip wrong first and last column if wrapped tables are used
      if (/^ {0,3}\|/.test(tableLines[i])) {
        tableLines[i] = tableLines[i].replace(/^ {0,3}\|/, '');
      }
      if (/\|[ \t]*$/.test(tableLines[i])) {
        tableLines[i] = tableLines[i].replace(/\|[ \t]*$/, '');
      }
      // parse code spans first, but we only support one line code spans
      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);
    }

    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),
        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),
        rawCells = [],
        headers = [],
        styles = [],
        cells = [];

    tableLines.shift();
    tableLines.shift();

    for (i = 0; i < tableLines.length; ++i) {
      if (tableLines[i].trim() === '') {
        continue;
      }
      rawCells.push(
        tableLines[i]
          .split('|')
          .map(function (s) {
            return s.trim();
          })
      );
    }

    if (rawHeaders.length < rawStyles.length) {
      return rawTable;
    }

    for (i = 0; i < rawStyles.length; ++i) {
      styles.push(parseStyles(rawStyles[i]));
    }

    for (i = 0; i < rawHeaders.length; ++i) {
      if (showdown.helper.isUndefined(styles[i])) {
        styles[i] = '';
      }
      headers.push(parseHeaders(rawHeaders[i], styles[i]));
    }

    for (i = 0; i < rawCells.length; ++i) {
      var row = [];
      for (var ii = 0; ii < headers.length; ++ii) {
        if (showdown.helper.isUndefined(rawCells[i][ii])) {

        }
        row.push(parseCells(rawCells[i][ii], styles[ii]));
      }
      cells.push(row);
    }

    return buildTable(headers, cells);
  }

  text = globals.converter._dispatch('tables.before', text, options, globals);

  // find escaped pipe characters
  text = text.replace(/\\(\|)/g, showdown.helper.escapeCharactersCallback);

  // parse multi column tables
  text = text.replace(tableRgx, parseTable);

  // parse one column tables
  text = text.replace(singeColTblRgx, parseTable);

  text = globals.converter._dispatch('tables.after', text, options, globals);

  return text;
});

showdown.subParser('underline', function (text, options, globals) {
  'use strict';

  if (!options.underline) {
    return text;
  }

  text = globals.converter._dispatch('underline.before', text, options, globals);

  if (options.literalMidWordUnderscores) {
    text = text.replace(/\b_?__(\S[\s\S]*)___?\b/g, function (wm, txt) {
      return '<u>' + txt + '</u>';
    });
  } else {
    text = text.replace(/_?__(\S[\s\S]*?)___?/g, function (wm, m) {
      return (/\S$/.test(m)) ? '<u>' + m + '</u>' : wm;
    });
  }

  // escape remaining underscores to prevent them being parsed by italic and bold
  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);

  text = globals.converter._dispatch('underline.after', text, options, globals);

  return text;
});

/**
 * Swap back in all the special characters we've hidden.
 */
showdown.subParser('unescapeSpecialChars', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);

  text = text.replace(/¨E(\d+)E/g, function (wholeMatch, m1) {
    var charCodeToReplace = parseInt(m1);
    return String.fromCharCode(charCodeToReplace);
  });

  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);
  return text;
});

var root = this;

// AMD Loader
if (typeof define === 'function' && define.amd) {
  define(function () {
    'use strict';
    return showdown;
  });

// CommonJS/nodeJS Loader
} else if (typeof module !== 'undefined' && module.exports) {
  module.exports = showdown;

// Regular Browser loader
} else {
  root.showdown = showdown;
}
}).call(this);

//# sourceMappingURL=showdown.js.map
